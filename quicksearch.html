<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"account.js.html":{"id":"account.js.html","title":"Source: account.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: account.js import stampit from 'stampit'; import Request from './request'; /** * Wrapper around account endpoint. Meant to be used directly form {@link Syncano} instance. * @constructor * @type {Account} * @example {@lang javascript} * const {Account} = Syncano(); * Account.login({email: '', password: ''}).then((user) =&gt; { * * }); */ const Account = stampit().compose(Request) .props({ _account: { registerPath: '/v1.1/account/register/', loginPath: '/v1.1/account/auth/', updatePath: '/v1.1/account/' } }) .methods({ /** * A convenience method for creating a new account. * @memberOf Account * @instance * @param {Object} payload * @param {String} payload.email * @param {String} payload.password * @returns {Promise} */ register(payload = {}) { const path = this._account.registerPath; return this.makeRequest('POST', path, {payload}); }, /** * A convenience method for authenticating with email and password. * @memberOf Account * @instance * @param {Object} payload * @param {String} payload.email * @param {String} payload.password * @param {Boolean} [setAccountKey = true] * @returns {Promise} */ login(payload = {}, setAccountKey = true) { const config = this.getConfig(); const path = this._account.loginPath; return this.makeRequest('POST', path, {payload}).then((user) =&gt; { if (setAccountKey === true) { config.setAccountKey(user.account_key); } return user; }); }, /** * A convenience method for updating your account details. * @memberOf Account * @instance * @param {Object} payload * @param {String} payload.first_name * @param {String} payload.last_name * @returns {Promise} */ update(payload = {}) { const path = this._account.updatePath; return this.makeRequest('PUT', path, {payload}); } }); export default Account; × Search results Close "},"models_admin.js.html":{"id":"models_admin.js.html","title":"Source: models/admin.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: models/admin.js import stampit from 'stampit'; import {Meta, Model} from './base'; import {BaseQuerySet, Get, List} from '../querySet'; const AdminQuerySet = stampit().compose( BaseQuerySet, Get, List ); const AdminMeta = Meta({ name: 'admin', pluralName: 'admins', endpoints: { 'detail': { 'methods': ['delete', 'patch', 'put', 'get'], 'path': '/v1.1/instances/{instanceName}/admins/{id}/' }, 'list': { 'methods': ['get'], 'path': '/v1.1/instances/{instanceName}/admins/' } } }); /** * OO wrapper around instance admins {@link http://docs.syncano.com/v4.0/docs/v1instancesinstanceadmins endpoint}. * @constructor * @type {Admin} * @property {Number} id * @property {String} instanceName * @property {String} first_name * @property {String} last_name * @property {String} email * @property {String} role One of full, write and read. * @property {Object} [links = {}] */ const Admin = stampit() .compose(Model) .setQuerySet(AdminQuerySet) .setMeta(AdminMeta); export default Admin; × Search results Close "},"models_apikey.js.html":{"id":"models_apikey.js.html","title":"Source: models/apikey.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: models/apikey.js import stampit from 'stampit'; import _ from 'lodash'; import {Meta, Model} from './base'; import {BaseQuerySet, Get, Create, BulkCreate, Delete, Update, List} from '../querySet'; const ApiKeyQuerySet = stampit().compose( BaseQuerySet, Get, Create, BulkCreate, Delete, Update, List ).methods({ reset(properties = {}) { this.properties = _.assign({}, this.properties, properties); this.method = 'POST'; this.endpoint = 'reset'; return this; } }); const ApiKeyMeta = Meta({ name: 'apiKey', pluralName: 'apiKeys', endpoints: { 'detail': { 'methods': ['delete', 'patch', 'put', 'get'], 'path': '/v1.1/instances/{instanceName}/api_keys/{id}/' }, 'list': { 'methods': ['post', 'get'], 'path': '/v1.1/instances/{instanceName}/api_keys/' }, 'reset': { 'methods': ['post'], 'path': '/v1.1/instances/{instanceName}/api_keys/{id}/reset_key/' } } }); const ApiKeyConstraints = { instanceName: { presence: true, length: { minimum: 5 } }, description: { string: true }, ignore_acl: { boolean: true }, allow_user_create: { boolean: true }, allow_anonymous_read: { boolean: true } }; /** * OO wrapper around instance api keys {@link http://docs.syncano.io/docs/authentication endpoint}. * @constructor * @type {ApiKey} * @property {Number} id * @property {String} instanceName * @property {String} [api_key = null] * @property {Boolean} [allow_user_create = null] * @property {Boolean} [ignore_acl = null] * @property {String} [links = {}] */ const ApiKey = stampit() .compose(Model) .setMeta(ApiKeyMeta) .methods({ reset() { const meta = this.getMeta(); const path = meta.resolveEndpointPath('reset', this); return this.makeRequest('POST', path); } }) .setQuerySet(ApiKeyQuerySet) .setConstraints(ApiKeyConstraints); export default ApiKey; × Search results Close "},"models_apnsconfig.js.html":{"id":"models_apnsconfig.js.html","title":"Source: models/apnsconfig.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: models/apnsconfig.js import stampit from 'stampit'; import {Meta, Model} from './base'; import {BaseQuerySet, Update, Get} from '../querySet'; const APNSConfigQuerySet = stampit().compose( BaseQuerySet, Update, Get ); const APNSConfigMeta = Meta({ name: 'gcmconfig', pluralName: 'gcmconfig', endpoints: { 'detail': { 'methods': ['post', 'get', 'patch', 'put'], 'path': '/v1.1/instances/{instanceName}/push_notifications/apns/config/' } } }); const APNSConfigConstraints = { instanceName: { presence: true, length: { minimum: 5 } } }; /** * OO wrapper around instance APNS config {@link # endpoint}. * @constructor * @type {APNSConfig} * @property {String} instanceName * @property {File} production_certificate * @property {String} [production_certificate_name = null] * @property {String} production_bundle_identifier * @property {String} [production_expiration_date = null] * @property {String} development_certificate_name * @property {File} development_certificate * @property {String} development_bundle_identifier * @property {String} [development_expiration_date = null] * @property {Object} [links = {}] */ const APNSConfig = stampit() .compose(Model) .setMeta(APNSConfigMeta) .setQuerySet(APNSConfigQuerySet) .setConstraints(APNSConfigConstraints); export default APNSConfig; × Search results Close "},"models_apnsdevice.js.html":{"id":"models_apnsdevice.js.html","title":"Source: models/apnsdevice.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: models/apnsdevice.js import stampit from 'stampit'; import _ from 'lodash'; import {Meta, Model} from './base'; import {BaseQuerySet, Create, BulkCreate, Delete, Get, Update, UpdateOrCreate, GetOrCreate, List} from '../querySet'; const APNSDeviceQuerySet = stampit().compose( BaseQuerySet, List, Create, BulkCreate, Delete, Get, Update, UpdateOrCreate, GetOrCreate ).methods({ sendMessage(properties = {}, content = {}) { const {APNSMessage} = this.getConfig(); return APNSMessage.please().sendToDevice(_.assign({}, this.properties, properties), content); } }); const APNSDeviceMeta = Meta({ name: 'apnsdevice', pluralName: 'apnsdevices', endpoints: { 'detail': { 'methods': ['delete', 'patch', 'put', 'get'], 'path': '/v1.1/instances/{instanceName}/push_notifications/apns/devices/{registration_id}/' }, 'list': { 'methods': ['post', 'get'], 'path': '/v1.1/instances/{instanceName}/push_notifications/apns/devices/' } } }); const APNSDeviceConstraints = { instanceName: { presence: true, length: { minimum: 5 } }, user: { numericality: { noStrings: true } }, registration_id: { presence: true, string: true }, device_id: { string: true }, metadata: { object: true }, is_active: { boolean: true } }; /** * OO wrapper around instance APNS devices {@link # endpoint}. * @constructor * @type {APNSDevice} * @property {String} registration_id * @property {String} device_id * @property {String} instanceName * @property {String} [label = null] * @property {Number} [user = null] * @property {Boolean} [is_active = true] * @property {String} [links = {}] * @property {Date} [created_at = null] * @property {Date} [updated_at = null] */ const APNSDevice = stampit() .compose(Model) .setMeta(APNSDeviceMeta) .setQuerySet(APNSDeviceQuerySet) .setConstraints(APNSDeviceConstraints); export default APNSDevice; × Search results Close "},"models_apnsmessage.js.html":{"id":"models_apnsmessage.js.html","title":"Source: models/apnsmessage.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: models/apnsmessage.js import stampit from 'stampit'; import _ from 'lodash'; import {Meta, Model} from './base'; import {BaseQuerySet, Create, BulkCreate, Get, GetOrCreate, List} from '../querySet'; const APNSMessageQuerySet = stampit().compose( BaseQuerySet, Create, BulkCreate, Get, List, GetOrCreate ).methods({ sendToDevice(properties = {}, content = {}) { this.properties = _.assign({}, this.properties, properties); this.payload = {content}; this.method = 'POST'; this.endpoint = 'deviceMessage'; return this; } }); const APNSMessageMeta = Meta({ name: 'apnsmessage', pluralName: 'apnsmessages', endpoints: { 'detail': { 'methods': ['delete', 'get'], 'path': '/v1.1/instances/{instanceName}/push_notifications/apns/messages/{id}/' }, 'list': { 'methods': ['get'], 'path': '/v1.1/instances/{instanceName}/push_notifications/apns/messages/' }, 'deviceMessage': { 'methods': ['post'], 'path': '/v1.1/instances/{instanceName}/push_notifications/apns/devices/{registration_id}/send_message/' } } }); const APNSMessageConstraints = { instanceName: { presence: true, length: { minimum: 5 } }, content: { presence: true, object: true }, 'content.registration_ids': { presence: true, array: true }, 'content.environment': { presence: true, inclusion: ['development', 'production'] }, 'content.aps': { presence: true }, 'content.aps.alert': { presence: true } }; /** * OO wrapper around instance APNS messages {@link # endpoint}. * @constructor * @type {APNSMessage} * @property {Number} id * @property {String} [status = null] * @property {Object} [content = {}] * @property {Object} [result = {}] * @property {String} [links = {}] * @property {Date} [created_at = null] * @property {Date} [updated_at = null] */ const APNSMessage = stampit() .compose(Model) .setQuerySet(APNSMessageQuerySet) .setConstraints(APNSMessageConstraints) .setMeta(APNSMessageMeta); export default APNSMessage; × Search results Close "},"models_channel.js.html":{"id":"models_channel.js.html","title":"Source: models/channel.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: models/channel.js import stampit from 'stampit'; import {Meta, Model} from './base'; import Request from '../request'; import {EventEmittable} from '../utils'; import _ from 'lodash'; import QuerySet from '../querySet'; const ChannelQuerySet = stampit().compose(QuerySet).methods({ /** * Puslishes to a channel. * @memberOf QuerySet * @instance * @param {Object} channel * @param {Object} message * @param {String} [room = null] * @returns {QuerySet} * @example {@lang javascript} * Channel.please().publish({ instanceName: 'test-instace', name: 'test-class' }, { content: 'my message'}); */ publish(properties, message, room = null) { this.properties = _.assign({}, this.properties, properties); this.payload = {payload: JSON.stringify(message)}; if (room) { this.payload.room = room; } this.method = 'POST'; this.endpoint = 'publish'; return this; }, /** * Allows polling of a channel. * @memberOf QuerySet * @instance * @param {Object} options * @param {Boolean} [start = true] * @returns {ChannelPoll} * @example {@lang javascript} * var poll = Channel.please().poll({ instanceName: 'test-instace', name: 'test-class' }); * * poll.on('start', function() { * console.log('poll::start'); * }); * * poll.on('stop', function() { * console.log('poll::stop'); * }); * * poll.on('message', function(message) { * console.log('poll::message', message); * }); * * poll.on('custom', function(message) { * console.log('poll::custom', message); * }); * * poll.on('create', function(data) { * console.log('poll::create', data); * }); * * poll.on('delete', function(data) { * console.log('poll::delete', data); * }); * * poll.on('update', function(data) { * console.log('poll::update', data); * }); * * poll.on('error', function(error) { * console.log('poll::error', error); * }); * * poll.start(); * */ poll(properties = {}, options = {}, start = true) { this.properties = _.assign({}, this.properties, properties); const config = this.getConfig(); const meta = this.model.getMeta(); const path = meta.resolveEndpointPath('poll', this.properties); options.path = path; const channelPoll = ChannelPoll.setConfig(config)(options); if (start === true) { channelPoll.start(); } return channelPoll; }, history(properties = {}, query = {}) { this.properties = _.assign({}, this.properties, properties); this.method = 'GET'; this.endpoint = 'history'; this.query = query; this._serialize = false; return this; } }); const ChannelMeta = Meta({ name: 'channel', pluralName: 'channels', endpoints: { 'detail': { 'methods': ['delete', 'patch', 'put', 'get'], 'path': '/v1.1/instances/{instanceName}/channels/{name}/' }, 'list': { 'methods': ['post', 'get'], 'path': '/v1.1/instances/{instanceName}/channels/' }, 'poll': { 'methods': ['get'], 'path': '/v1.1/instances/{instanceName}/channels/{name}/poll/' }, 'publish': { 'methods': ['post'], 'path': '/v1.1/instances/{instanceName}/channels/{name}/publish/' }, 'history': { 'methods': ['get'], 'path': '/v1.1/instances/{instanceName}/channels/{name}/history/' } } }); const channelConstraints = { instanceName: { presence: true, length: { minimum: 5 } }, name: { presence: true, string: true, length: { minimum: 5 } }, description: { string: true }, type: { inclusion: ['default', 'seperate_rooms'] }, group: { numericality: { noStrings: true } }, group_permissions: { inclusion: ['none', 'subscribe', 'publish'] }, other_permissions: { inclusion: ['none', 'subscribe', 'publish'] }, custom_publish: { boolean: true } }; /** * Wrapper around {@link http://docs.syncano.io/v0.1/docs/channels-poll|channels poll} endpoint which implements `EventEmitter` interface. * Use it via `Channel` poll method. * @constructor * @type {ChannelPoll} * @property {Number} [timeout = 300000] 5 mins * @property {String} [path = null] request path * @property {Number} [lastId = null] used internally in for loop * @property {Number} [room = null] * @property {Boolean} [abort = false] used internally to conrole for loop * @example {@lang javascript} * var poll = ChannelPoll.setConfig(config)({ * path: '/v1.1/instances/some-instance/channels/some-channel/poll/' * }); * * poll.on('start', function() { * console.log('poll::start'); * }); * * poll.on('stop', function() { * console.log('poll::stop'); * }); * * poll.on('message', function(message) { * console.log('poll::message', message); * }); * * poll.on('custom', function(message) { * console.log('poll::custom', message); * }); * * poll.on('create', function(data) { * console.log('poll::create', data); * }); * * poll.on('delete', function(data) { * console.log('poll::delete', data); * }); * * poll.on('update', function(data) { * console.log('poll::update', data); * }); * * poll.on('error', function(error) { * console.log('poll::error', error); * }); * * poll.start(); * */ export const ChannelPoll = stampit() .compose(Request, EventEmittable) .props({ timeout: 1000 * 60 * 5, path: null, lastId: null, room: null, abort: false }) .methods({ request() { const options = { timeout: this.timeout, query: { last_id: this.lastId, room: this.room } }; this.emit('request', options); return this.makeRequest('GET', this.path, options); }, start() { this.emit('start'); // some kind of while loop which uses Promises const loop = () =&gt; { if (this.abort === true) { this.emit('stop'); return } return this.request() .then((message) =&gt; { this.emit('message', message); this.emit(message.action, message); this.lastId = message.id; return message; }) .finally(loop) .catch((error) =&gt; { if (error.timeout &amp;&amp; error.timeout === this.timeout) { return this.emit('timeout', error); } this.emit('error', error); this.stop(); }); } process.nextTick(loop); return this.stop; }, stop() { this.abort = true; return this; } }); /** * OO wrapper around channels {@link http://docs.syncano.io/v0.1/docs/channels-list endpoint}. * **Channel** has two special methods called ``publish`` and ``poll``. First one will send message to the channel and second one will create {@link http://en.wikipedia.org/wiki/Push_technology#Long_polling long polling} connection which will listen for messages. * @constructor * @type {Channel} * @property {String} name * @property {String} instanceName * @property {String} type * @property {Number} [group = null] * @property {String} [group_permissions = null] * @property {String} [other_permissions = null] * @property {Boolean} [custom_publish = null] * @example {@lang javascript} * Channel.please().get('instance-name', 'channel-name').then((channel) =&gt; { * return channel.publish({x: 1}); * }); * * Channel.please().get('instance-name', 'channel-name').then((channel) =&gt; { * const poll = channel.poll(); * * poll.on('start', function() { * console.log('poll::start'); * }); * * poll.on('stop', function() { * console.log('poll::stop'); * }); * * poll.on('message', function(message) { * console.log('poll::message', message); * }); * * poll.on('custom', function(message) { * console.log('poll::custom', message); * }); * * poll.on('create', function(data) { * console.log('poll::create', data); * }); * * poll.on('delete', function(data) { * console.log('poll::delete', data); * }); * * poll.on('update', function(data) { * console.log('poll::update', data); * }); * * poll.on('error', function(error) { * console.log('poll::error', error); * }); * * poll.start(); * }); */ const Channel = stampit() .compose(Model) .setMeta(ChannelMeta) .setQuerySet(ChannelQuerySet) .methods({ poll(options = {}, start = true) { const config = this.getConfig(); const meta = this.getMeta(); const path = meta.resolveEndpointPath('poll', this); options.path = path; const channelPoll = ChannelPoll.setConfig(config)(options); if (start === true) { channelPoll.start(); } return channelPoll; }, publish(message, room = null) { const options = { payload: { payload: JSON.stringify(message) } }; const meta = this.getMeta(); const path = meta.resolveEndpointPath('publish', this); if (room !== null) { options.payload.room = room; } return this.makeRequest('POST', path, options); }, history(query = {}) { const meta = this.getMeta(); const path = meta.resolveEndpointPath('history', this); return this.makeRequest('GET', path, {query}); } }) .setConstraints(channelConstraints); export default Channel; × Search results Close "},"models_class.js.html":{"id":"models_class.js.html","title":"Source: models/class.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: models/class.js import stampit from 'stampit'; import {Meta, Model} from './base'; const ClassMeta = Meta({ name: 'class', pluralName: 'classes', endpoints: { 'detail': { 'methods': ['delete', 'patch', 'put', 'get'], 'path': '/v1.1/instances/{instanceName}/classes/{name}/' }, 'list': { 'methods': ['post', 'get'], 'path': '/v1.1/instances/{instanceName}/classes/' } }, relatedModels: [ 'DataObject' ] }); const ClassConstraints = { instanceName: { presence: true, length: { minimum: 5 } }, name: { presence: true, string: true }, description: { string: true }, schema: { object: true }, group: { numericality: { noStrings: true } }, group_permissions: { inclusion: ['none', 'read', 'create_objects'] }, other_permissions: { inclusion: ['none', 'read', 'create_objects'] }, metadata: { object: true } }; /** * OO wrapper around instance groups {@link http://docs.syncano.com/v4.0/docs/instancesinstanceclasses endpoint}. * @constructor * @type {Class} * @property {String} name * @property {String} instanceName * @property {Number} objects_count * @property {Array} schema * @property {String} status * @property {Object} metadata * @property {String} revision * @property {String} expected_revision * @property {String} group * @property {String} group_permissions * @property {String} other_permissions * @property {String} [description = null] * @property {String} [links = {}] * @property {Date} [created_at = null] * @property {Date} [updated_at = null] */ const Class = stampit() .compose(Model) .setMeta(ClassMeta) .setConstraints(ClassConstraints); export default Class; × Search results Close "},"utils.js.html":{"id":"utils.js.html","title":"Source: utils.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: utils.js import stampit from 'stampit'; import EventEmitter from './eventemitter'; /** * Simple wrapper around `EventEmitter` * @constructor * @type {EventEmittable} * @example {@lang javascript} * var EmittableModel = stampit().compose(EventEmittable); */ export const EventEmittable = stampit.convertConstructor(EventEmitter); /** * Used as a manager for {@link Syncano} base object. **Not** meant to be used directly. * @constructor * @type {ConfigMixin} * @property {Syncano} _config private attribute which holds {@link Syncano} object * @example {@lang javascript} * var MyStamp = stampit().compose(ConfigMixin); */ export const ConfigMixin = stampit({ methods: { /** * Gets default properties. * @memberOf ConfigMixin * @instance * @returns {Object} * @example {@lang javascript} * var MyStamp = stampit().compose(ConfigMixin); * var config = MyStamp().getDefaultProperties(); */ getDefaultProperties() { return this._config.defaults; }, /** * Sets config. * @memberOf ConfigMixin * @instance * @param {Syncano} config instance of {@link Syncano} object * @returns {ConfigMixin} * @example {@lang javascript} * var MyStamp = stampit().compose(ConfigMixin); * var newObject = MyStamp().setConfig({}); */ setConfig(config) { this._config = config; return this; }, /** * Gets config. * @memberOf ConfigMixin * @instance * @returns {Syncano} * @example {@lang javascript} * var MyStamp = stampit().compose(ConfigMixin); * var config = MyStamp().getConfig(); */ getConfig() { return this._config; } }, static: { getDefaultProperties() { return this.fixed.refs._config.defaults; }, /** * Sets config and returns new {@link https://github.com/stampit-org/stampit|stampit} definition. * @memberOf ConfigMixin * @static * @param {Syncano} config instance of {@link Syncano} object * @returns {stampit} * @example {@lang javascript} * var MyStamp = stampit().compose(ConfigMixin).setConfig({}); */ setConfig(config) { return this.refs({_config: config}); }, /** * Gets config from {@link https://github.com/stampit-org/stampit|stampit} definition. * @memberOf ConfigMixin * @static * @returns {Syncano} * @example {@lang javascript} * var config = stampit().compose(ConfigMixin).getConfig(); */ getConfig() { return this.fixed.refs._config; } } }); /** * Used as a manager for {@link Meta} object. **Not** meant to be used directly. * @constructor * @type {MetaMixin} * @property {Object} _meta private attribute which holds {@link Meta} object * @example {@lang javascript} * var MyStamp = stampit().compose(MetaMixin); */ export const MetaMixin = stampit({ methods: { /** * Sets meta. * @memberOf MetaMixin * @instance * @param {Meta} meta instance of {@link Meta} object * @returns {MetaMixin} * @example {@lang javascript} * var MyStamp = stampit().compose(MetaMixin); * var newObject = MyStamp().setMeta({}); */ setMeta(meta) { this._meta = meta; return this; }, /** * Gets meta. * @memberOf MetaMixin * @instance * @returns {Meta} * @example {@lang javascript} * var MyStamp = stampit().compose(MetaMixin); * var meta = MyStamp().getMeta(); */ getMeta() { return this._meta; } }, static: { /** * Sets meta and returns new {@link https://github.com/stampit-org/stampit|stampit} definition. * @memberOf MetaMixin * @static * @param {Meta} meta instance of {@link Meta} object * @returns {stampit} * @example {@lang javascript} * var MyStamp = stampit().compose(MetaMixin).setMeta({}); */ setMeta(meta) { return this.refs({_meta: meta}); }, /** * Gets meta from {@link https://github.com/stampit-org/stampit|stampit} definition. * @memberOf MetaMixin * @static * @returns {Meta} * @example {@lang javascript} * var meta = stampit().compose(MetaMixin).getMeta(); */ getMeta() { return this.fixed.refs._meta; } } }); /** * Used as a manager for {@link http://validatejs.org/#constraints|Constraints} object (validation). **Not** meant to be used directly. * @constructor * @type {ConstraintsMixin} * @property {Object} _constraints private attribute which holds constraints object * @example {@lang javascript} * var MyStamp = stampit().compose(ConstraintsMixin); */ export const ConstraintsMixin = stampit({ methods: { /** * Sets constraints used for validation. * @memberOf ConstraintsMixin * @instance * @param {Object} constraints plain JavaScript object * @returns {ConstraintsMixin} * @example {@lang javascript} * var MyStamp = stampit().compose(ConstraintsMixin); * var newObject = MyStamp().setConstraints({}); */ setConstraints(constraints) { this._constraints = constraints; return this; }, /** * Gets constraints from object instance. * @memberOf ConstraintsMixin * @instance * @returns {Object} * @example {@lang javascript} * var MyStamp = stampit().compose(ConstraintsMixinn); * var constraints = MyStamp().getConstraints(); */ getConstraints() { return this._constraints; } }, static: { /** * Sets constraints in {@link https://github.com/stampit-org/stampit|stampit} definition used for validation. * @memberOf ConstraintsMixin * @static * @param {Object} constraints plain JavaScript object * @returns {stampit} * @example {@lang javascript} * var MyStamp = stampit().compose(ConstraintsMixin).setConstraints({}); */ setConstraints(constraints) { return this.refs({_constraints: constraints}); }, /** * Gets constraints from {@link https://github.com/stampit-org/stampit|stampit} definition. * @memberOf ConstraintsMixin * @static * @returns {Object} * @example {@lang javascript} * var constraints = stampit().compose(ConstraintsMixin).getConstraints(); */ getConstraints() { return this.fixed.refs._constraints; } } }); /** * Adds logging functionality. * @constructor * @type {Logger} * @example {@lang javascript} * var MyStamp = stampit().compose(Logger); */ export const Logger = stampit({ methods: { /** * Wrapper around *console.log*. * @memberOf Logger * @instance */ log(...args) { const env = process.env.BABEL_ENV || process.env.NODE_ENV; if (env === 'development') { /* eslint-disable no-console */ console.log(...args); /* eslint-enable no-console */ } } } }); × Search results Close "},"models_dataendpoint.js.html":{"id":"models_dataendpoint.js.html","title":"Source: models/dataendpoint.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: models/dataendpoint.js import stampit from 'stampit'; import _ from 'lodash'; import {Meta, Model} from './base'; import QuerySet from '../querySet'; const DataEndpointQerySet = stampit().compose(QuerySet).methods({ /** * Fetches Data Objects matching the Data View properties. * @memberOf DataEndpointQerySet * @instance * @param {Object} properties lookup properties used for path resolving * @returns {DataEndpointQerySet} * @example {@lang javascript} * DataEndpoint.please().fetchData({name: 'dataViewName', instanceName: 'test-one'}).then(function(dataObjects) {}); */ fetchData(properties = {}) { this.properties = _.assign({}, this.properties, properties); this.method = 'GET'; this.endpoint = 'get'; this._serialize = false; return this; } }); const DataEndpointMeta = Meta({ name: 'dataview', pluralName: 'dataviews', endpoints: { 'detail': { 'methods': ['delete', 'patch', 'put', 'get'], 'path': '/v1.1/instances/{instanceName}/endpoints/data/{name}/' }, 'list': { 'methods': ['post', 'get'], 'path': '/v1.1/instances/{instanceName}/endpoints/data/' }, 'get': { 'methods': ['get'], 'path': '/v1.1/instances/{instanceName}/endpoints/data/{name}/get/' }, 'rename': { 'methods': ['post'], 'path': '/v1.1/instances/{instanceName}/endpoints/data/{name}/rename/' }, 'clear_cache': { 'methods': ['post'], 'path': '/v1.1/instances/{instanceName}/endpoints/data/{name}/clear_cache/' } } }); const DataEndpointConstraints = { instanceName: { presence: true, length: { minimum: 5 } }, name: { presence: true, string: true, length: { maximum: 64 } }, description: { string: true }, class: { presence: true, string: true, length: { minimum: 5 } }, query: { object: true }, excluded_fields: { string: true }, order_by: { string: true }, page_size: { numericality: { noStrings: true } }, expand: { string: true } }; /** * OO wrapper around data views {@link # endpoint}. * @constructor * @type {DataEndpoint} * @property {String} name * @property {String} instanceName * @property {Object} query * @property {String} excluded_fields * @property {String} order_by * @property {Number} page_size * @property {String} expand * @property {String} class * @property {String} [description = null] * @property {String} [links = {}] */ const DataEndpoint = stampit() .compose(Model) .setMeta(DataEndpointMeta) .setQuerySet(DataEndpointQerySet) .setConstraints(DataEndpointConstraints) .methods({ /** * Fetches Data Objects matching the Data View properties. * @memberOf DataEndpoint * @instance * @param {Object} * @returns {Promise} * @example {@lang javascript} * DataEndpoint.please().fetchData({name: 'dataViewName', instanceName: 'test-one'}).then(function(dataObjects) {}); */ fetchData() { const meta = this.getMeta(); const path = meta.resolveEndpointPath('get', this); return this.makeRequest('GET', path); } }); export default DataEndpoint; × Search results Close "},"models_dataobject.js.html":{"id":"models_dataobject.js.html","title":"Source: models/dataobject.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: models/dataobject.js import stampit from 'stampit'; import {Meta, Model} from './base'; import _ from 'lodash'; import QuerySet from '../querySet'; const DataObjectQuerySet = stampit().compose(QuerySet).methods({ /** * Filters DataObjects. * @memberOf QuerySet * @instance * @param {Object} filters * @returns {QuerySet} * @example {@lang javascript} * DataObject.please().list({ instanceName: 'test-instace', className: 'test-class' }).filter({ field_name: { _contains: 'Lord Of The Rings' }}).then(function(dataobjects) {}); */ filter(filters = {}) { this.query['query'] = JSON.stringify(filters); return this; }, /** * Orders DataObject by field. * @memberOf QuerySet * @instance * @param {String} field * @returns {QuerySet} * @example {@lang javascript} * DataObject.please().list({ instanceName: 'test-instace', className: 'test-class' }).orderBy('author').then(function(dataobjects) {}); * DataObject.please().list({ instanceName: 'test-instace', className: 'test-class' }).orderBy('-author').then(function(dataobjects) {}); */ orderBy(field) { this.query['order_by'] = field; return this; }, /** * Updates single object based on provided arguments * @memberOf QuerySet * @instance * @param {Object} properties lookup properties used for path resolving * @param {Object} field to increment. * @returns {QuerySet} * @example {@lang javascript} * DataObject.please().increment({instanceName: 'my-instance', className: 'my-class', id: 1}, {views: 1}) */ increment(properties = {}, object = {}) { const payload = {}; payload[_.keys(object)[0]] = { _increment: object[_.keys(object)[0]] }; this.properties = _.assign({}, this.properties, properties); this.payload = JSON.stringify(payload); this.method = 'PATCH'; this.endpoint = 'detail'; return this; }, /** * Returns DataObject count. * @memberOf QuerySet * @instance * @returns {QuerySet} * @example {@lang javascript} * DataObject.please().list({ instanceName: 'test-instace', className: 'test-class' }).count().then(function(response) {}); */ count() { this.query['include_count'] = true; this.raw(); return this; } }); const DataObjectMeta = Meta({ name: 'dataobject', pluralName: 'dataobjects', endpoints: { 'detail': { 'methods': ['delete', 'patch', 'post', 'get'], 'path': '/v1.1/instances/{instanceName}/classes/{className}/objects/{id}/' }, 'list': { 'methods': ['post', 'get'], 'path': '/v1.1/instances/{instanceName}/classes/{className}/objects/' } } }); const DataobjectConstraints = { instanceName: { presence: true, length: { minimum: 5 } }, className: { presence: true, string: true }, owner: { numericality: { noStrings: true } }, owner_permissions: { inclusion: ['none', 'read', 'write', 'full'] }, group: { numericality: { noStrings: true } }, group_permissions: { inclusion: ['none', 'read', 'write', 'full'] }, other_permissions: { inclusion: ['none', 'read', 'write', 'full'] }, channel: { string: true }, channel_room: { string: true } }; /** * OO wrapper around instance data objects {@link http://docs.syncano.com/v4.0/docs/view-data-objects endpoint}. * This model is special because each instance will be **dynamically populated** with fields defined in related {@link Class} schema attribute. * @constructor * @type {DataObject} * @property {Number} id * @property {String} instanceName * @property {String} className * @property {Number} revision * @property {Number} [owner = null] * @property {String} [owner_permissions = null] * @property {Number} [group = null] * @property {String} [group_permissions = null] * @property {String} [other_permissions = null] * @property {String} [channel = null] * @property {String} [channel_room = null] * @property {String} [description = null] * @property {String} [links = {}] * @property {Date} [created_at = null] * @property {Date} [updated_at = null] */ const DataObject = stampit() .compose(Model) .setMeta(DataObjectMeta) .methods({ increment(field, by) { if(!_.isNumber(this[field])) throw new Error(`The ${field} is not numeric.`); if(!_.isNumber(by)) throw new Error('The provided value is not numeric.'); this[field] += _.add(this[field], by); return this.save(); } }) .setQuerySet(DataObjectQuerySet) .setConstraints(DataobjectConstraints); export default DataObject; × Search results Close "},"models_gcmconfig.js.html":{"id":"models_gcmconfig.js.html","title":"Source: models/gcmconfig.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: models/gcmconfig.js import stampit from 'stampit'; import {Meta, Model} from './base'; import {BaseQuerySet, Update, Get} from '../querySet'; const GCMConfigQuerySet = stampit().compose( BaseQuerySet, Update, Get ); const GCMConfigMeta = Meta({ name: 'gcmconfig', pluralName: 'gcmconfig', endpoints: { 'detail': { 'methods': ['post', 'get', 'patch', 'put'], 'path': '/v1.1/instances/{instanceName}/push_notifications/gcm/config/' } } }); const GCMConfigConstraints = { instanceName: { presence: true, length: { minimum: 5 } } }; /** * OO wrapper around instance GCM config {@link # endpoint}. * @constructor * @type {GCMConfig} * @property {String} instanceName * @property {String} production_api_key * @property {String} development_api_key * @property {Object} [links = {}] */ const GCMConfig = stampit() .compose(Model) .setMeta(GCMConfigMeta) .setQuerySet(GCMConfigQuerySet) .setConstraints(GCMConfigConstraints); export default GCMConfig; × Search results Close "},"models_gcmdevice.js.html":{"id":"models_gcmdevice.js.html","title":"Source: models/gcmdevice.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: models/gcmdevice.js import stampit from 'stampit'; import _ from 'lodash'; import {Meta, Model} from './base'; import {BaseQuerySet, Create, BulkCreate, Delete, Get, Update, UpdateOrCreate, GetOrCreate, List} from '../querySet'; const GCMDeviceQuerySet = stampit().compose( BaseQuerySet, List, Create, BulkCreate, Delete, Get, Update, UpdateOrCreate, GetOrCreate ).methods({ sendMessage(properties = {}, content = {}) { const {GCMMessage} = this.getConfig(); return GCMMessage.please().sendToDevice(_.assign({}, this.properties, properties), content); } }); const GCMDeviceMeta = Meta({ name: 'gcmdevice', pluralName: 'gcmdevices', endpoints: { 'detail': { 'methods': ['delete', 'patch', 'put', 'get'], 'path': '/v1.1/instances/{instanceName}/push_notifications/gcm/devices/{registration_id}/' }, 'list': { 'methods': ['post', 'get'], 'path': '/v1.1/instances/{instanceName}/push_notifications/gcm/devices/' } } }); const GCMDevicConstraints = { instanceName: { presence: true, length: { minimum: 5 } }, user: { numericality: { noStrings: true } }, registration_id: { presence: true, string: true }, device_id: { string: true }, metadata: { object: true }, is_active: { boolean: true } }; /** * OO wrapper around instance GCM devices {@link # endpoint}. * @constructor * @type {GCMDevice} * @property {String} registration_id * @property {String} device_id * @property {String} instanceName * @property {String} [label = null] * @property {Number} [user = null] * @property {Boolean} [is_active = true] * @property {String} [links = {}] * @property {Date} [created_at = null] * @property {Date} [updated_at = null] */ const GCMDevice = stampit() .compose(Model) .setMeta(GCMDeviceMeta) .setQuerySet(GCMDeviceQuerySet) .setConstraints(GCMDevicConstraints); export default GCMDevice; × Search results Close "},"models_gcmmessage.js.html":{"id":"models_gcmmessage.js.html","title":"Source: models/gcmmessage.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: models/gcmmessage.js import stampit from 'stampit'; import _ from 'lodash'; import {Meta, Model} from './base'; import {BaseQuerySet, Create, BulkCreate, Get, GetOrCreate, List} from '../querySet'; const GCMMessageQuerySet = stampit().compose( BaseQuerySet, Create, BulkCreate, Get, List, GetOrCreate ).methods({ sendToDevice(properties = {}, content = {}) { this.properties = _.assign({}, this.properties, properties); this.payload = {content}; this.method = 'POST'; this.endpoint = 'deviceMessage'; return this; } }); const GCMMessageMeta = Meta({ name: 'gcmmessage', pluralName: 'gcmmessages', endpoints: { 'detail': { 'methods': ['delete', 'get'], 'path': '/v1.1/instances/{instanceName}/push_notifications/gcm/messages/{id}/' }, 'list': { 'methods': ['get'], 'path': '/v1.1/instances/{instanceName}/push_notifications/gcm/messages/' }, 'deviceMessage': { 'methods': ['post'], 'path': '/v1.1/instances/{instanceName}/push_notifications/gcm/devices/{registration_id}/send_message/' } } }); const GCMMessageConstraints = { instanceName: { presence: true, length: { minimum: 5 } }, content: { presence: true, object: true }, 'content.registration_ids': { presence: true, array: true }, 'content.environment': { presence: true, inclusion: ['development', 'production'] } }; /** * OO wrapper around instance GCM messages {@link # endpoint}. * @constructor * @type {GCMMessage} * @property {Number} id * @property {String} [status = null] * @property {Object} [content = {}] * @property {Object} [result = {}] * @property {String} [links = {}] * @property {Date} [created_at = null] * @property {Date} [updated_at = null] */ const GCMMessage = stampit() .compose(Model) .setMeta(GCMMessageMeta) .setQuerySet(GCMMessageQuerySet) .setConstraints(GCMMessageConstraints); export default GCMMessage; × Search results Close "},"models_group.js.html":{"id":"models_group.js.html","title":"Source: models/group.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: models/group.js import stampit from 'stampit'; import {Meta, Model} from './base'; import _ from 'lodash'; import QuerySet from '../querySet'; const GroupQuerySet = stampit().compose(QuerySet).methods({ /** * Fetches Users belonging to a group. * @memberOf GroupQuerySet * @instance * @param {Object} properties lookup properties used for path resolving * @returns {GroupQuerySet} * @example {@lang javascript} * Grop.please().users({ id: 1, instanceName: 'test-one'}).then(function(users) {}); */ users(properties = {}) { const {User} = this.getConfig(); this.properties = _.assign({}, this.properties, properties); return User.please().groupUsers(this.properties); }, /** * Adds user to group. * @memberOf GroupQuerySet * @instance * @param {Object} properties lookup properties used for path resolving * @param {Object} user object with user to be added * @returns {GroupQuerySet} * @example {@lang javascript} * Grop.please().addUser({ id: 1, instanceName: 'test-one'}, { user: 1 }).then(function(response) {}); */ addUser(properties = {}, user = {}) { const {User} = this.getConfig(); this.properties = _.assign({}, this.properties, properties); return User.please().addUserToGroup(this.properties, user); }, /** * Deletes user from group. * @memberOf GroupQuerySet * @instance * @param {Object} properties lookup properties used for path resolving * @param {Object} user object with user to be added * @returns {GroupQuerySet} * @example {@lang javascript} * Grop.please().deleteUser({ id: 1, instanceName: 'test-one'}, { user: 1 }).then(function(response) {}); */ deleteUser(properties = {}, user = {}) { const {User} = this.getConfig(); this.properties = _.assign({}, this.properties, properties); return User.please().deleteUserFromGroup(this.properties, user); }, /** * Fetches details of a user belonging to a group. * @memberOf Group * @instance * @param {Object} properties lookup properties used for path resolving * @param {Object} user object with user to be fetched * @example {@lang javascript} * Group.please().getUserDetails({ user: 1}).then(function(response) {}); */ getUserDetails(properties = {}, user = {}) { const {User} = this.getConfig(); this.properties = _.assign({}, this.properties, properties); return User.please().getDetails(this.properties, user); }, getUserGroups(properties = {}) { this.properties = _.assign({}, this.properties, properties); this.method = 'GET'; this.endpoint = 'userGroups'; return this.then((response) =&gt; { return this.model.please().asResultSet(response, 'group'); }); }, getUserGroup(properties = {}, group = {}) { this.properties = _.assign({}, this.properties, properties, group); this.method = 'GET'; this.endpoint = 'userGroup'; return this.then((response) =&gt; { return this.model.fromJSON(response.group, this.properties); }); }, addUserGroup(properties = {}, group = {}) { this.properties = _.assign({}, this.properties, properties); this.payload = group; this.method = 'POST'; this.endpoint = 'userGroups'; return this.then((response) =&gt; { return this.model.fromJSON(response.group, this.properties); }); }, deleteUserGroup(properties = {}, group = {}) { this.properties = _.assign({}, this.properties, properties, group); this.method = 'DELETE'; this.endpoint = 'userGroup'; return this.then((response) =&gt; { return this.model.fromJSON(response.group, this.properties); }); } }); const GroupMeta = Meta({ name: 'group', pluralName: 'groups', endpoints: { 'detail': { 'methods': ['delete', 'patch', 'put', 'get'], 'path': '/v1.1/instances/{instanceName}/groups/{id}/' }, 'list': { 'methods': ['get'], 'path': '/v1.1/instances/{instanceName}/groups/' }, 'userGroups': { 'methods': ['get', 'post'], 'path': '/v1.1/instances/{instanceName}/users/{user}/groups/' }, 'userGroup': { 'methods': ['get', 'delete'], 'path': '/v1.1/instances/{instanceName}/users/{user}/groups/{group}/' } } }); const GroupConstraints = { instanceName: { presence: true, length: { minimum: 5 } }, label: { presence: true, string: true }, description: { string: true } }; /** * OO wrapper around instance groups {@link http://docs.syncano.com/v4.0/docs/groups endpoint}. * @constructor * @type {Group} * @property {Number} id * @property {String} instanceName * @property {String} label * @property {String} [description = null] * @property {String} [links = {}] * @property {Date} [created_at = null] * @property {Date} [updated_at = null] */ const Group = stampit() .compose(Model) .setMeta(GroupMeta) .setConstraints(GroupConstraints) .setQuerySet(GroupQuerySet) .methods({ /** * Fetches Users belonging to a group. * @memberOf Group * @instance * @returns {Promise} * @example {@lang javascript} * Group.users().then(function(users) {}); */ users() { const {User} = this.getConfig(); return User.please().groupUsers({ id: this.id, instanceName: this.instanceName}); }, /** * Add user to group. * @memberOf Group * @instance * @returns {Promise} * @example {@lang javascript} * Group.addUser({ user: 1}).then(function(response) {}); */ addUser(user = {}) { const {User} = this.getConfig(); return User.please().addUserToGroup({ id: this.id, instanceName: this.instanceName}, user); }, /** * Delete user from group. * @memberOf Group * @instance * @returns {Promise} * @example {@lang javascript} * Group.deleteUser({ user: 1}).then(function(response) {}); */ deleteUser(user = {}) { const {User} = this.getConfig(); return User.please().deleteUserFromGroup({ id: this.id, instanceName: this.instanceName}, user); }, /** * Fetches details of a user belonging to a group. * @memberOf Group * @instance * @returns {Promise} * @example {@lang javascript} * Group.getUserDetails({ user: 1}).then(function(response) {}); */ getUserDetails(user = {}) { const {User} = this.getConfig(); return User.please().getDetails({ id: this.id, instanceName: this.instanceName}, user); } }); export default Group; × Search results Close "},"models_instance.js.html":{"id":"models_instance.js.html","title":"Source: models/instance.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: models/instance.js import stampit from 'stampit'; import _ from 'lodash'; import {Meta, Model} from './base'; import QuerySet from '../querySet'; const InstanceQuerySet = stampit().compose(QuerySet).methods({ rename(properties = {}, object = {}) { this.properties = _.assign({}, this.properties, properties); this.payload = object; this.method = 'POST'; this.endpoint = 'rename'; return this; } }); const InstanceMeta = Meta({ name: 'instance', pluralName: 'instances', endpoints: { 'detail': { 'methods': ['delete', 'patch', 'put', 'get'], 'path': '/v1.1/instances/{name}/' }, 'list': { 'methods': ['post', 'get'], 'path': '/v1.1/instances/' }, 'rename': { 'methods': ['post'], 'path': '/v1.1/instances/{name}/rename/' } }, relatedModels: [ 'Admin', 'Class', 'Script', 'Schedule', 'InstanceInvitation', 'ApiKey' , 'Trigger', 'ScriptEndpoint', 'User', 'Group', 'GCMDevice', 'Channel' , 'APNSDevice', 'Template' ] }); const InstanceConstraints = { name: { presence: true, string: true, length: { minimum: 5 } }, description: { string: true }, metadata: { object: true } }; /** * OO wrapper around instances {@link http://docs.syncano.io/v0.1/docs/instances-list endpoint}. * @constructor * @type {Instance} * @property {String} name * @property {Object} owner * @property {Number} owner.id * @property {String} owner.email * @property {String} owner.first_name * @property {String} owner.last_name * @property {Boolean} owner.is_active * @property {Boolean} owner.has_password * @property {String} role * @property {Object} [metadata = {}] * @property {String} [description = null] * @property {String} [links = {}] * @property {Date} [created_at = null] * @property {Date} [updated_at = null] */ const Instance = stampit() .compose(Model) .setMeta(InstanceMeta) .methods({ rename(payload = { new_name: this.name }) { const options = {payload}; const meta = this.getMeta(); const path = meta.resolveEndpointPath('rename', this); return this.makeRequest('POST', path, options); } }) .setQuerySet(InstanceQuerySet) .setConstraints(InstanceConstraints) export default Instance; × Search results Close "},"models_instanceinvitation.js.html":{"id":"models_instanceinvitation.js.html","title":"Source: models/instanceinvitation.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: models/instanceinvitation.js import stampit from 'stampit'; import {Meta, Model} from './base'; import _ from 'lodash'; import {BaseQuerySet, Create, BulkCreate, Get, Delete, GetOrCreate, List} from '../querySet'; const InstanceInvitationQuerySet = stampit().compose( BaseQuerySet, Create, BulkCreate, Get, GetOrCreate, Delete, List, Delete ).methods({ resend(properties = {}) { this.properties = _.assign({}, this.properties, properties); this.method = 'POST'; this.endpoint = 'resend'; return this; } }); const InstanceInvitationMeta = Meta({ name: 'instanceInvitation', pluralName: 'instanceInvitations', endpoints: { 'detail': { 'methods': ['delete', 'get'], 'path': '/v1.1/instances/{instanceName}/invitations/{id}/' }, 'list': { 'methods': ['post', 'get'], 'path': '/v1.1/instances/{instanceName}/invitations/' }, 'resend': { 'methods': ['post'], 'path': '/v1.1/instances/{instanceName}/invitations/{id}/resend/' } } }); const InstanceInvitationConstraints = { email: { presence: true, email: true }, role: { presence: true, inclusion: ['full', 'write', 'read'] }, instanceName: { presence: true, length: { minimum: 5 } } }; /** * OO wrapper around instance invitations {@link # endpoint}. * @constructor * @type {InstanceInvitation} * @property {String} email * @property {String} role * @property {String} [key = null] * @property {String} [inviter = null] * @property {String} [status = null] * @property {Number} [id = null] * @property {String} [description = null] * @property {String} [links = {}] * @property {Date} [created_at = null] * @property {Date} [updated_at = null] */ const InstanceInvitation = stampit() .compose(Model) .setMeta(InstanceInvitationMeta) .methods({ resend() { const meta = this.getMeta(); const path = meta.resolveEndpointPath('resend', this); return this.makeRequest('POST', path); } }) .setQuerySet(InstanceInvitationQuerySet) .setConstraints(InstanceInvitationConstraints); export default InstanceInvitation; × Search results Close "},"models_invitation.js.html":{"id":"models_invitation.js.html","title":"Source: models/invitation.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: models/invitation.js import stampit from 'stampit'; import {Meta, Model} from './base'; import {BaseQuerySet, Create, BulkCreate, Get, Delete, GetOrCreate, List} from '../querySet'; const InvitationQuerySet = stampit().compose( BaseQuerySet, Create, BulkCreate, Get, GetOrCreate, Delete, List, Delete ).methods({ accept(invitationKey) { this.method = 'POST'; this.endpoint = 'accept'; this.payload = {invitationKey}; this._serialize = false; return this; } }); const InvitationMeta = Meta({ name: 'invitation', pluralName: 'invitations', endpoints: { 'detail': { 'methods': ['delete', 'get'], 'path': '/v1.1/account/invitations/{id}/' }, 'list': { 'methods': ['post', 'get'], 'path': '/v1.1/account/invitations/' }, 'accept': { 'methods': ['post'], 'path': '/v1.1/account/invitations/accept/' } } }); /** * OO wrapper around invitations {@link # endpoint}. * @constructor * @type {Invitation} * @property {String} email * @property {String} role * @property {String} [key = null] * @property {String} [inviter = null] * @property {String} [status = null] * @property {Number} [id = null] * @property {String} [description = null] * @property {String} [links = {}] * @property {Date} [created_at = null] * @property {Date} [updated_at = null] */ const Invitation = stampit() .compose(Model) .setMeta(InvitationMeta) .setQuerySet(InvitationQuerySet) .methods({ accept(invitationKey) { const meta = this.getMeta(); const path = meta.resolveEndpointPath('accept', this); return this.makeRequest('POST', path, {invitationKey}); } }); export default Invitation; × Search results Close "},"models_base.js.html":{"id":"models_base.js.html","title":"Source: models/base.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: models/base.js import stampit from 'stampit'; import Promise from 'bluebird'; import _ from 'lodash'; import validate from 'validate.js'; import QuerySet from '../querySet'; import Request from '../request'; import {ValidationError} from '../errors'; import {ConfigMixin, MetaMixin, ConstraintsMixin} from '../utils'; validate.Promise = Promise; validate.validators.object = function(value) { if(value) { if(!validate.isObject(value)) { return &quot;is not an object&quot;; } } return null; } validate.validators.array = function(value) { if(value) { if(!validate.isArray(value)) { return &quot;is not an array&quot;; } } return null; } validate.validators.boolean = function(value) { if(value) { if(typeof value !== 'boolean') { return &quot;is not a boolean&quot;; } } return null; } validate.validators.string = function(value) { if(value) { if(!validate.isString(value)) { return &quot;is not a string&quot;; } } return null; } /** * Object which holds whole configuration for {@link Model}. * @constructor * @type {Meta} * @property {String} [name = null] * @property {String} [pluralName = null] * @property {Array} [properties = []] * @property {Array} [endpoints = {}] * @property {Array} [relatedModels = undefined] * @example {@lang javascript} * var MyMeta = Meta({name: 'test'}); * var MyModel = SomeModel.setMeta(MyMeta); */ export const Meta = stampit() .props({ name: null, pluralName: null, properties: [], endpoints: {} }) .init(function({ instance }) { _.forEach(instance.endpoints, (value) =&gt; { value.properties = this.getPathProperties(value.path); instance.properties = _.union(instance.properties, value.properties); }); }) .methods({ /** * Gets required properties from object. Used mostly during serialization. * @memberOf Meta * @instance * @param {Object} object * @returns {Object} */ getObjectProperties(object) { return _.reduce(this.properties, (result, property) =&gt; { result[property] = object[property]; return result; }, {}); }, /** * Makes a copy of target and adds required properties from source. * @memberOf Meta * @instance * @param {Object} source * @param {Object} target * @returns {Object} */ assignProperties(source, target) { const dateFields = _.mapValues(_.pick(target, ['created_at', 'updated_at', 'executed_at']), (o) =&gt; new Date(o)); return _.assign({}, this.getObjectProperties(source), target, dateFields); }, getPathProperties(path) { const re = /{([^}]*)}/gi; let match = null; let result = []; while ((match = re.exec(path)) !== null) { result.push(match[1]); } return result; }, /** * Resolves endpoint path e.g: `/v1.1/instances/{name}/` will be converted to `/v1.1/instances/someName/`. * @memberOf Meta * @instance * @param {String} endpointName * @param {Object} properties * @returns {String} */ resolveEndpointPath(endpointName, properties) { if (_.isEmpty(this.endpoints[endpointName])) { throw new Error(`Invalid endpoit name: &quot;${endpointName}&quot;.`); } const endpoint = this.endpoints[endpointName]; const diff = _.difference(endpoint.properties, _.keys(properties)); let path = endpoint.path; if (diff.length) { throw new Error(`Missing path properties &quot;${diff.join()}&quot; for &quot;${endpointName}&quot; endpoint.`) } _.forEach(endpoint.properties, (property) =&gt; { path = path.replace(`{${property}}`, properties[property]); }); return path; }, /** * Looks for the first allowed method from `methodNames` for selected endpoint. * @memberOf Meta * @instance * @param {String} endpointName * @param {...String} methodNames * @returns {String} */ findAllowedMethod(endpointName, ...methodNames) { const endpoint = this.endpoints[endpointName]; const methods = _.intersection(_.map(methodNames, (m) =&gt; m.toLowerCase()), endpoint.methods); if (_.isEmpty(methods)) { throw Error(`Unsupported request methods: ${methodNames.join()}.`); } return methods[0]; } }); /** * Base {@link https://github.com/stampit-org/stampit|stamp} for all models which wraps all raw JavaScript objects. * **Not** meant to be used directly more like mixin in other {@link https://github.com/stampit-org/stampit|stamps}. * @constructor * @type {Model} * @property {Syncano} _config private attribute which holds {@link Syncano} object * @property {Meta} _meta private attribute which holds {@link Meta} object * @property {Object} _constraints private attribute which holds validation constraints * @property {Request} _request private attribute which holds {@link Request} configuration * @property {Request} _querySet private attribute which holds {@link QuerySet} stamp * @example {@lang javascript} * var MyModel = stampit() .compose(Model) .setMeta(MyMeta) .setConstraints(MyConstraints); */ export const Model = stampit({ refs: { _querySet: QuerySet }, static: { /** * Sets {@link QuerySet} and returns new {@link https://github.com/stampit-org/stampit|stampit} definition. * @memberOf Model * @static * @param {QuerySet} querySet {@link QuerySet} definition * @returns {Model} * @example {@lang javascript} * var MyStamp = stampit().compose(Model).setQuerySet({}); */ setQuerySet(querySet) { return this.refs({_querySet: querySet}); }, /** * Gets {@link QuerySet} from {@link https://github.com/stampit-org/stampit|stampit} definition. * @memberOf Model * @static * @returns {QuerySet} * @example {@lang javascript} * var querySet = stampit().compose(Model).getQuerySet(); */ getQuerySet() { return this.fixed.refs._querySet; }, /** * Returns {@link QuerySet} instance which allows to do ORM like operations on {@link https://syncano.io/|Syncano} API. * @memberOf Model * @static * @param {Object} [properties = {}] some default properties for all ORM operations * @returns {QuerySet} * @example {@lang javascript} * MyModel.please().list(); */ please(properties = {}) { const querySet = this.getQuerySet(); const defaultProps = _.assign({}, this.getDefaultProperties(), properties); return querySet({ model: this, properties: defaultProps, _config: this.getConfig() }); }, /** * Used only for serialization for raw object to {@link https://github.com/stampit-org/stampit|stamp}. * @memberOf Model * @static * @param {Object} rawJSON * @param {Object} [properties = {}] some default properties which will be assigned to model instance * @returns {Model} */ fromJSON(rawJSON, properties = {}) { const meta = this.getMeta(); const attrs = meta.assignProperties(properties, rawJSON); return this(attrs); } }, methods: { /** * Checks if model instance if already saved. * @memberOf Model * @instance * @returns {Boolean} */ isNew() { return !_.has(this, 'links'); }, /** * Validates current model instance in context of defined constraints. * @memberOf Model * @instance * @returns {Object|undefined} */ validate() { const constraints = this.getConstraints(); const attributes = this.toJSON(); if (_.isEmpty(constraints)) { return; } return validate(attributes, constraints); }, /** * Serializes raw JavaScript object into {@link Model} instance. * @memberOf Model * @instance * @returns {Model} */ serialize(object) { const meta = this.getMeta(); return this.getStamp()(meta.assignProperties(this, object)); }, /** * Creates or updates the current instance. * @memberOf Model * @instance * @returns {Promise} */ save() { const meta = this.getMeta(); const errors = this.validate(); let path = null; let endpoint = 'list'; let method = 'POST'; let payload = this.toJSON(); if (!_.isEmpty(errors)) { return Promise.reject(new ValidationError(errors)); } try { if (!this.isNew()) { endpoint = 'detail'; method = meta.findAllowedMethod(endpoint, 'PUT', 'PATCH', 'POST'); } path = meta.resolveEndpointPath(endpoint, this); } catch(err) { return Promise.reject(err); } return this.makeRequest(method, path, {payload}).then((body) =&gt; this.serialize(body)); }, /** * Removes the current instance. * @memberOf Model * @instance * @returns {Promise} */ delete() { const meta = this.getMeta(); const path = meta.resolveEndpointPath('detail', this); return this.makeRequest('DELETE', path); }, toJSON() { const attrs = [ // Private stuff '_config', '_meta', '_request', '_constraints', '_querySet', // Read only stuff 'links', 'created_at', 'updated_at' ]; return _.omit(this, attrs.concat(_.functions(this))); } } }) .init(({instance, stamp}) =&gt; { if (!stamp.fixed.methods.getStamp) { stamp.fixed.methods.getStamp = () =&gt; stamp; } if(_.has(instance, '_meta.relatedModels')) { const relatedModels = instance._meta.relatedModels; const properties = instance._meta.properties.slice(); const last = _.last(properties); const lastIndex = _.lastIndexOf(properties, last); properties[lastIndex] = _.camelCase(`${instance._meta.name} ${last}`); let map = {}; map[last] = properties[lastIndex]; map = _.reduce(properties, (result, property) =&gt; { result[property] = property; return result; }, map); _.forEach(instance.getConfig(), (model, name) =&gt; { if(_.includes(relatedModels, name)) { instance[model.getMeta().pluralName] = (_properties = {}) =&gt; { const parentProperties = _.reduce(map, (result, target, source) =&gt; { const value = _.get(instance, source, null); if (value !== null) { result[target] = value; } return result; }, {}); return stampit().compose(model).please(_.assign(parentProperties, _properties)); }; } }); } if(_.has(instance, '_config')) _.defaults(instance, instance.getDefaultProperties()); }) .compose(ConfigMixin, MetaMixin, ConstraintsMixin, Request); export default Model; × Search results Close "},"eventemitter.js.html":{"id":"eventemitter.js.html","title":"Source: eventemitter.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: eventemitter.js import _ from 'lodash'; /** * A simple implementation of an EventEmitter. Created for compatibility with environments that don't have access to native node modules (like React Native). Not meant to be used on it's own. */ export default function EventEmitter() { this.events = {}; } EventEmitter.prototype.on = function (event, listener) { if (!_.isArray(this.events[event])) { this.events[event] = []; } this.events[event].push(listener); }; EventEmitter.prototype.removeListener = function (event, listener) { if (_.isArray(this.events[event])) { _.pull(this.events[event], listener); } }; EventEmitter.prototype.emit = function (event) { if (_.isArray(this.events[event])) { const listeners = this.events[event].slice(); const args = [].slice.call(arguments, 1); _.forEach(listeners, (listener) =&gt; listener.apply(this, args)); } }; × Search results Close "},"pinger.js.html":{"id":"pinger.js.html","title":"Source: pinger.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: pinger.js import stampit from 'stampit'; import {EventEmittable} from './utils'; import Request from './request'; /** * Utility for pinging the api. Allows checking for connection to the platofrm. Meant to be used directly form the {@link Syncano} instance. * * @constructor * @type {Pinger} * * @example {@lang javascript} * const connection = Syncano(); * connection.Monitor.startMonitoring(); * connection.Monitor.on('connected', () =&gt; { * // connected to the api * }); * connection.Monitor.on('disconnected', (error) =&gt; { * // disconnected from the api * }); */ const Pinger = stampit() .compose(Request, EventEmittable) .props({ timeout: 5000, interval: null, connected: null }) .methods({ request() { const path = this.getConfig().getBaseUrl(); return this.makeRequest('GET', path); }, startMonitoring() { this.interval = setInterval(() =&gt; this.ping(), this.timeout); }, ping() { this.request() .then(() =&gt; { if(!this.connected) { this.connected = true; this.emit('connected') } }) .catch((error) =&gt; { if(this.connected) { this.connected = false; this.emit('disconnected', error) } }); }, stopMonitoring() { clearInterval(this.interval); } }); export default Pinger; × Search results Close "},"querySet.js.html":{"id":"querySet.js.html","title":"Source: querySet.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: querySet.js import stampit from 'stampit'; import Promise from 'bluebird'; import _ from 'lodash'; import Request from './request'; import PaginationError from './errors'; /** * Wrapper around plain JavaScript Array which provides two additional methods for pagination. * @constructor * @type {ResultSet} * @param {QuerySet} querySet * @param {String} response * @param {Array} objects * @returns {ResultSet} * @property {Function} next * @property {Function} prev * @example {@lang javascript} * Instance.please().list() * // get next page * .then((instances) =&gt; instances.next()) * * // get prev page * .then((instances) =&gt; instances.prev()) * * .then((instances) =&gt; console.log('instances', instances)); */ const ResultSet = function(querySet, response, objects) { let results = []; results.push.apply(results, objects); /** * Helper method which will fetch next page or throws `PaginationError`. * @memberOf ResultSet * @instance * @throws {PaginationError} * @returns {Promise} */ results.next = () =&gt; { if (!response.next) { return Promise.reject(new PaginationError('There is no next page')); } return querySet.request(response.next, {query: {}}); }; /** * Helper method which will fetch previous page or throws `PaginationError`. * @memberOf ResultSet * @instance * @throws {PaginationError} * @returns {Promise} */ results.prev = () =&gt; { if (!response.prev) { return Promise.reject(new PaginationError('There is no previous page')); } return querySet.request(response.prev, {query: {}}); }; return results; } const QuerySetRequest = stampit().compose(Request) .refs({ model: null }) .props({ endpoint: 'list', method: 'GET', headers: {}, properties: {}, query: {}, payload: {}, attachments: {}, _serialize: true }) .methods({ /** * Converts raw objects to {@link https://github.com/stampit-org/stampit|stampit} instances * @memberOf QuerySet * @instance * @private * @param {Object} response raw JavaScript objects * @returns {Object} */ serialize(response) { if (this._serialize === false) { return response; } if (this.endpoint === 'list') { return this.asResultSet(response); } return this.model.fromJSON(response, this.properties); }, /** * Converts API response into {ResultSet} * @memberOf QuerySet * @instance * @private * @param {Object} response raw JavaScript objects * @param {String} lookupField additional field to search for data * @returns {ResultSet} */ asResultSet(response, lookupField) { const objects = _.map(response.objects, (object) =&gt; { const obj = lookupField ? object[lookupField] : object; return this.model.fromJSON(obj, this.properties) }); return ResultSet(this, response, objects); }, /** * Executes current state of QuerySet * @memberOf QuerySet * @instance * @param {String} [requestPath = null] * @param {Object} [requestOptions = {}] * @returns {Promise} * @example {@lang javascript} * Instance.please().list().request().then(function(instance) {}); */ request(requestPath = null, requestOptions = {}) { const meta = this.model.getMeta(); const endpoint = meta.endpoints[this.endpoint] || {}; const allowedMethods = endpoint.methods || []; const path = requestPath || meta.resolveEndpointPath(this.endpoint, this.properties); const method = this.method.toLowerCase(); const options = _.defaults(requestOptions, { headers: this.headers, query: this.query, payload: this.payload, attachments: this.attachments, responseAttr: this.responseAttr }); if (!_.includes(allowedMethods, method)) { return Promise.reject(new Error(`Invalid request method: &quot;${this.method}&quot;.`)); } return this.makeRequest(method, path, options).then((body) =&gt; [this.serialize(body), body]); }, /** * Wrapper around {@link Queryset.request} method * @memberOf QuerySet * @instance * @param {function} callback * @returns {Promise} */ then(callback) { return this.request().spread(callback); } }); export const Create = stampit().methods({ /** * A convenience method for creating an object and saving it all in one step. * @memberOf QuerySet * @instance * @param {Object} object * @returns {Promise} * @example {@lang javascript} * // Thus: * * Instance * .please() * .create({name: 'test-one', description: 'description'}) * .then(function(instance) {}); * * // and: * * var instance = Instance({name: 'test-one', description: 'description'}); * instance.save().then(function(instance) {}); * * // are equivalent. */ create(object) { const attrs = _.assign({}, this.properties, object); const instance = this.model(attrs); return instance.save(); } }); export const Get = stampit().methods({ /** * Returns the object matching the given lookup properties. * @memberOf QuerySet * @instance * @param {Object} properties lookup properties used for path resolving * @returns {QuerySet} * @example {@lang javascript} * Instance.please().get({name: 'test-one'}).then(function(instance) {}); */ get(properties = {}) { this.properties = _.assign({}, this.properties, properties); this.method = 'GET'; this.endpoint = 'detail'; return this; } }); export const GetOrCreate = stampit().methods({ /** * A convenience method for looking up an object with the given lookup properties, creating one if necessary. * Successful callback will receive **object, created** arguments. * @memberOf QuerySet * @instance * @param {Object} properties attributes which will be used for object retrieving * @param {Object} defaults attributes which will be used for object creation * @returns {Promise} * @example {@lang javascript} * Instance * .please() * .getOrCreate({name: 'test-one'}, {description: 'test'}) * .then(function(instance, created) {}); * * // above is equivalent to: * * Instance * .please() * .get({name: 'test-one'}) * .then(function(instance) { * // Get * }) * .catch(function() { * // Create * return Instance.please().create({name: 'test-one', description: 'test'}); * }); */ getOrCreate(properties = {}, defaults = {}) { return new Promise((resolve, reject) =&gt; { this.get(properties) .then((object) =&gt; resolve(object, false)) .catch(() =&gt; { const attrs = _.assign({}, this.properties, properties, defaults); return this.create(attrs) .then((object) =&gt; resolve(object, true)) .catch(reject); }); }); } }); export const List = stampit().methods({ /** * Returns list of objects that match the given lookup properties. * @memberOf QuerySet * @instance * @param {Object} [properties = {}] lookup properties used for path resolving * @param {Object} [query = {}] * @returns {QuerySet} * @example {@lang javascript} * Instance.please().list().then(function(instances) {}); * Class.please().list({instanceName: 'test-one'}).then(function(classes) {}); */ list(properties = {}, query = {}) { this.properties = _.assign({}, this.properties, properties); this.query = _.assign({}, this.query, query); this.method = 'GET'; this.endpoint = 'list'; return this; } }); export const Delete = stampit().methods({ /** * Removes single object based on provided properties. * @memberOf QuerySet * @instance * @param {Object} properties lookup properties used for path resolving * @returns {QuerySet} * @example {@lang javascript} * Instance.please().delete({name: 'test-instance'}).then(function() {}); * Class.please().delete({name: 'test', instanceName: 'test-one'}).then(function() {}); */ delete(properties = {}) { this.properties = _.assign({}, this.properties, properties); this.method = 'DELETE'; this.endpoint = 'detail'; return this; } }); export const Update = stampit().methods({ /** * Updates single object based on provided arguments * @memberOf QuerySet * @instance * @param {Object} properties lookup properties used for path resolving * @param {Object} object attributes to update * @returns {QuerySet} * @example {@lang javascript} * Instance .please() .update({name: 'test-instance'}, {description: 'new one'}) .then(function(instance) {}); * Class .please() .update({name: 'test', instanceName: 'test-one'}, {description: 'new one'}) .then(function(cls) {}); */ update(properties = {}, object = {}) { this.properties = _.assign({}, this.properties, properties); this.payload = object; this.method = 'PATCH'; this.endpoint = 'detail'; return this; } }); const TemplateResponse = stampit().methods({ /** * Renders the api response as a template. * @memberOf QuerySet * @instance * @param {template_name} name of template to be rendered * @returns {QuerySet} * @example {@lang javascript} * DataObject .please() .list({instanceName: 'my-instance', className: 'my-class'}) .templateResponse('objects_html_table') .then(function(objects) {}); */ templateResponse(template_name) { this._serialize = false; this.responseAttr = 'text'; this.query['template_response'] = template_name; return this; } }); export const UpdateOrCreate = stampit().methods({ /** * A convenience method for updating an object with the given properties, creating a new one if necessary. * Successful callback will receive **object, updated** arguments. * @memberOf QuerySet * @instance * @param {Object} properties lookup properties used for path resolving * @param {Object} [object = {}] object with (field, value) pairs used in case of update * @param {Object} [defaults = {}] object with (field, value) pairs used in case of create * @returns {Promise} * @example {@lang javascript} * Instance * .please() * .updateOrCreate({name: 'test-one'}, {description: 'new-test'}, {description: 'create-test'}) * .then(function(instance, updated) {}); * * // above is equivalent to: * * Instance * .please() * .update({name: 'test-one'}, {description: 'new-test'}) * .then(function(instance) { * // Update * }) * .catch(function() { * // Create * return Instance.please().create({name: 'test-one', description: 'create-test'}); * }); */ updateOrCreate(properties = {}, object = {}, defaults = {}) { return new Promise((resolve, reject) =&gt; { this.update(properties, object) .then((_object) =&gt; resolve(_object, true)) .catch(() =&gt; { const attrs = _.assign({}, this.properties, properties, defaults); return this.create(attrs) .then((_object) =&gt; resolve(_object, false)) .catch(reject); }) }); } }); const ExcludedFields = stampit().methods({ /** * Removes specified fields from object response. * @memberOf QuerySet * @instance * @param {Object} fields * @returns {QuerySet} * @example {@lang javascript} * DataObject.please().list({ instanceName: 'test-instace', className: 'test-class' }).excludedFields(['title', 'author']).then(function(dataobjects) {}); */ excludedFields(fields = []) { this.query['excluded_fields'] = fields.join(); return this; } }); const Fields = stampit().methods({ /** * Selects specified fields from object. * @memberOf QuerySet * @instance * @param {Object} fields * @returns {QuerySet} * @example {@lang javascript} * DataObject.please().list({ instanceName: 'test-instace', className: 'test-class' }).fields(['title', 'author']).then(function(dataobjects) {}); */ fields(fields = []) { this.query['fields'] = fields.join(); return this; } }); export const First = stampit().methods({ /** * Returns the first object matched by the lookup properties or undefined, if there is no matching object. * @memberOf QuerySet * @instance * @param {Object} [properties = {}] * @param {Object} [query = {}] * @returns {Promise} * @example {@lang javascript} * Instance.please().first().then(function(instance) {}); * Class.please().first({instanceName: 'test-one'}).then(function(cls) {}); */ first(properties = {}, query = {}) { return this.pageSize(1) .list(properties, query) .then((objects) =&gt; { if (objects.length) { return objects[0]; } }); } }); export const PageSize = stampit().methods({ /** * Sets page size. * @memberOf QuerySet * @instance * @param {Number} value * @returns {QuerySet} * @example {@lang javascript} * Instance.please().pageSize(2).then(function(instances) {}); * Class.please({instanceName: 'test-one'}).pageSize(2).then(function(classes) {}); */ pageSize(value) { this.query['page_size'] = value; return this; } }); export const Ordering = stampit().methods({ /** * Sets order of returned objects. * @memberOf QuerySet * @instance * @param {String} [value = 'asc'] allowed choices are &quot;asc&quot; and &quot;desc&quot; * @returns {QuerySet} * @example {@lang javascript} * Instance.please().ordering('desc').then(function(instances) {}); * Class.please({instanceName: 'test-one'}).ordering('desc').then(function(classes) {}); */ ordering(value = 'asc') { const allowed = ['asc', 'desc']; const ordering = value.toLowerCase(); if (!_.includes(allowed, ordering)) { throw Error(`Invalid order value: &quot;${value}&quot;, allowed choices are ${allowed.join()}.`); } this.query['ordering'] = ordering; return this; } }); export const Raw = stampit().methods({ /** * Disables serialization. Callback will will recive raw JavaScript objects. * @memberOf QuerySet * @instance * @returns {QuerySet} * @example {@lang javascript} * Instance.please().raw().then(function(response) {}); * Class.please({instanceName: 'test-one'}).raw().then(function(response) {}); */ raw() { this._serialize = false; return this; } }); export const BulkCreate = stampit().methods({ /** * Creates many objects based on provied Array of objects. * @memberOf QuerySet * @instance * @param {Array} objects * @returns {Promise} * @example {@lang javascript} * const objects = [Instance({name: 'test1'}), Instance({name: 'tes21'})]; * Instance.please().bulkCreate(objects).then(function(instances) { * console.log('instances', instances); * }); */ bulkCreate(objects) { return Promise.mapSeries(objects, (o) =&gt; o.save()); } }); /** * Base class responsible for all ORM (``please``) actions. * @constructor * @type {QuerySet} * @property {Object} model * @property {String} [endpoint = 'list'] * @property {String} [method = 'GET'] * @property {Object} [headers = {}] * @property {Object} [properties = {}] * @property {Object} [query = {}] * @property {Object} [payload = {}] * @property {Object} [attachments = {}] * @property {Boolean} [_serialize = true] */ const QuerySet = stampit.compose( QuerySetRequest, Create, BulkCreate, Get, GetOrCreate, List, Delete, Update, UpdateOrCreate, First, PageSize, Ordering, Fields, ExcludedFields, Raw, TemplateResponse ); export const BaseQuerySet = stampit.compose( QuerySetRequest, Raw, Fields, ExcludedFields, Ordering, First, PageSize, TemplateResponse ); export default QuerySet; × Search results Close "},"request.js.html":{"id":"request.js.html","title":"Source: request.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: request.js import stampit from 'stampit'; import Promise from 'bluebird'; import superagent from 'superagent'; import _ from 'lodash'; import {ConfigMixin, Logger} from './utils'; import {RequestError} from './errors'; import SyncanoFile from './file'; const IS_NODE = typeof module !== 'undefined' &amp;&amp; module.exports &amp;&amp; typeof __webpack_require__ === 'undefined'; /** * Base request object **not** meant to be used directly more like mixin in other {@link https://github.com/stampit-org/stampit|stamps}. * @constructor * @type {Request} * @property {Object} _request * @property {Function} [_request.handler = superagent] * @property {Array} [_request.allowedMethods = ['GET', 'POST', 'DELETE', 'HEAD', 'PUT', 'PATCH']] * @example {@lang javascript} * var MyStamp = stampit().compose(Request); */ const Request = stampit().compose(ConfigMixin, Logger) .refs({ _request: { handler: superagent, allowedMethods: [ 'GET', 'POST', 'DELETE', 'HEAD', 'PUT', 'PATCH' ] } }) .methods({ /** * Sets request handler, used for mocking. * @memberOf Request * @instance * @param {Function} handler * @returns {Request} */ setRequestHandler(handler) { this._request.handler = handler; return this; }, /** * Gets request handler. * @memberOf Request * @instance * @returns {Function} */ getRequestHandler() { return this._request.handler; }, /** * Builds full URL based on path. * @memberOf Request * @instance * @param {String} path path part of URL e.g: /v1.1/instances/ * @returns {String} */ buildUrl(path) { const config = this.getConfig(); if (!_.isString(path)) { throw new Error('&quot;path&quot; needs to be a string.'); } if (_.startsWith(path, config.getBaseUrl())) { return path; } return `${config.getBaseUrl()}${path}`; }, /** * Wrapper around {@link http://visionmedia.github.io/superagent/|superagent} which validates and calls requests. * @memberOf Request * @instance * @param {String} methodName e.g GET, POST * @param {String} path e.g /v1.1/instances/ * @param {Object} requestOptions All options required to build request * @param {String} [requestOptions.type = 'json'] request type e.g form, json, png * @param {String} [requestOptions.accept = 'json'] request accept e.g form, json, png * @param {Number} [requestOptions.timeout = 15000] request timeout * @param {Object} [requestOptions.headers = {}] request headers * @param {Object} [requestOptions.query = {}] request query * @param {Object} [requestOptions.payload = {}] request payload * @returns {Promise} */ makeRequest(methodName, path, requestOptions) { const config = this.getConfig(); let method = (methodName || '').toUpperCase(); let options = _.defaults({}, requestOptions, { type: 'json', accept: 'json', timeout: 15000, headers: {}, query: {}, payload: {}, responseAttr: 'body' }); if (_.isEmpty(methodName) || !_.includes(this._request.allowedMethods, method)) { return Promise.reject(new Error(`Invalid request method: &quot;${methodName}&quot;.`)); } if (_.isEmpty(path)) { return Promise.reject(new Error('&quot;path&quot; is required.')); } if (!_.isUndefined(config)) { if (!_.isEmpty(config.getAccountKey())) { options.headers['X-API-KEY'] = config.getAccountKey(); } // Yes, we will replace account key if (!_.isEmpty(config.getApiKey())) { options.headers['X-API-KEY'] = config.getApiKey(); } if (!_.isEmpty(config.getUserKey())) { options.headers['X-USER-KEY'] = config.getUserKey(); } if (!_.isEmpty(config.getSocialToken())) { options.headers['Authorization'] = `Token ${config.getSocialToken()}`; } } // Grab files const files = _.reduce(options.payload, (result, value, key) =&gt; { if (value instanceof SyncanoFile) { result[key] = value; } return result; }, {}); let handler = this.getRequestHandler(); let request = handler(method, this.buildUrl(path)) .accept(options.accept) .timeout(options.timeout) .set(options.headers) .query(options.query); if (_.isEmpty(files)) { request = request .type(options.type) .send(options.payload); } else if (IS_NODE === false &amp;&amp; typeof FormData !== 'undefined' &amp;&amp; typeof File !== 'undefined') { options.type = null; options.payload = _.reduce(options.payload, (formData, value, key) =&gt; { formData.append(key, (files[key]) ? value.content: value); return formData; }, new FormData()); request = request .type(options.type) .send(options.payload); } else if (IS_NODE === true) { request = _.reduce(options.payload, (result, value, key) =&gt; { return (files[key]) ? result.attach(key, value.content): result.field(key, value); }, request.type('form')); } return Promise.promisify(request.end, {context: request})() .then((response) =&gt; { if (!response.ok) { throw new RequestError({ response: response, status: response.status, message: 'Bad request' }); } return response[options.responseAttr]; }) .catch((err) =&gt; { if (err.status &amp;&amp; err.response) { this.log(`\\n${method} ${path}\\n${JSON.stringify(options, null, 2)}\\n`); this.log(`Response ${err.status}:`, err.errors); if (err.name !== 'RequestError') { throw new RequestError(err, err.response); } } throw err; }); } }).static({ /** * Sets request handler and returns new {@link https://github.com/stampit-org/stampit|stampit} object, used for mocking. * @memberOf Request * @static * @returns {stampit} */ setRequestHandler(handler) { let _request = this.fixed.refs._request || {}; _request.handler = handler; return this.refs({_request}); }, /** * Sets request handler from {@link https://github.com/stampit-org/stampit|stampit} definition. * @memberOf Request * @static * @returns {Function} */ getRequestHandler() { return this.fixed.refs._request.handler; } }); export default Request; × Search results Close "},"models_schedule.js.html":{"id":"models_schedule.js.html","title":"Source: models/schedule.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: models/schedule.js import stampit from 'stampit'; import {Meta, Model} from './base'; const ScheduleMeta = Meta({ name: 'schedule', pluralName: 'schedules', endpoints: { 'detail': { 'methods': ['delete', 'patch', 'put', 'get'], 'path': '/v1.1/instances/{instanceName}/schedules/{id}/' }, 'list': { 'methods': ['post', 'get'], 'path': '/v1.1/instances/{instanceName}/schedules/' } }, relatedModels: [ 'ScheduleTrace' ] }); const ScheduleConstraints = { instanceName: { presence: true, length: { minimum: 5 } }, label: { presence: true, string: true }, description: { string: true }, interval_sec: { numericality: { noStrings: true } }, crontab: { format: { pattern: /([0-59]|\\*)\\s([0-23]|\\*)\\s([1-31]|\\*)\\s([1-12]|\\*)\\s([0-7]|\\*)/ } }, timezone: { string: true }, script: { presence: true, numericality: { noStrings: true } } }; /** * OO wrapper around instance groups {@link http://docs.syncano.com/v4.0/docs/codebox-schedules-list endpoint}. * @constructor * @type {Schedule} * @property {Number} id * @property {String} instanceName * @property {String} label * @property {Number} interval_sec * @property {String} crontab * @property {Object} payload * @property {String} scheduled_next * @property {String} [links = {}] * @property {Date} [created_at = null] * @property {Date} [updated_at = null] */ const Schedule = stampit() .compose(Model) .setMeta(ScheduleMeta) .setConstraints(ScheduleConstraints); export default Schedule; × Search results Close "},"models_scheduletrace.js.html":{"id":"models_scheduletrace.js.html","title":"Source: models/scheduletrace.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: models/scheduletrace.js import stampit from 'stampit'; import {Meta, Model} from './base'; import {BaseQuerySet, Get, List} from '../querySet'; const ScheduleTraceQuerySet = stampit().compose( BaseQuerySet, Get, List ); const ScheduleTraceMeta = Meta({ name: 'scheduletrace', pluralName: 'scheduletraces', endpoints: { 'detail': { 'methods': ['delete', 'patch', 'put', 'get'], 'path': '/v1.1/instances/{instanceName}/schedules/{scheduleId}/traces/{id}/' }, 'list': { 'methods': ['post', 'get'], 'path': '/v1.1/instances/{instanceName}/schedules/{scheduleId}/traces/' } } }); const ScheduleTraceConstraints = { instanceName: { presence: true, length: { minimum: 5 } }, scheduleId: { presence: true, numericality: { noStrings: true } } }; /** * OO wrapper around shedule traces {@link # endpoint}. * @constructor * @type {ScheduleTrace} * @property {Number} id * @property {Number} scheduleId * @property {String} instanceName * @property {String} status * @property {Date} executed_at * @property {Number} duration * @property {Object} [result = {}] * @property {String} result.stderr * @property {String} result.stdout * @property {String} [links = {}] */ const ScheduleTrace = stampit() .compose(Model) .setQuerySet(ScheduleTraceQuerySet) .setMeta(ScheduleTraceMeta) .setConstraints(ScheduleTraceConstraints); export default ScheduleTrace; × Search results Close "},"models_script.js.html":{"id":"models_script.js.html","title":"Source: models/script.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: models/script.js import stampit from 'stampit'; import _ from 'lodash'; import {Meta, Model} from './base'; import QuerySet from '../querySet'; const ScriptQuerySet = stampit().compose(QuerySet).methods({ /** * Runs Script matching the given lookup properties. * @memberOf ScriptQuerySet * @instance * @param {Object} properties lookup properties used for path resolving * @returns {ScriptQuerySet} * @example {@lang javascript} * Script.please().run({id: 1, instanceName: 'test-one'}).then(function(trace) {}); */ run(properties = {}, payload = {}) { this.properties = _.assign({}, this.properties, properties); this.method = 'POST'; this.endpoint = 'run'; this.payload = payload; this._serialize = false; return this; }, /** * Gets allowed runtimes. * @memberOf ScriptQuerySet * @instance * @param {Object} properties lookup properties used for path resolving * @returns {ScriptQuerySet} * @example {@lang javascript} * Script.please().runtimes({instanceName: 'test-one'}).then(function(trace) {}); */ getRuntimes(properties = {}) { this.properties = _.assign({}, this.properties, properties); this.method = 'GET'; this.endpoint = 'runtimes'; this.payload = payload; this._serialize = false; return this; } }); const ScriptMeta = Meta({ name: 'script', pluralName: 'scripts', endpoints: { 'detail': { 'methods': ['delete', 'patch', 'put', 'get'], 'path': '/v1.1/instances/{instanceName}/snippets/scripts/{id}/' }, 'list': { 'methods': ['post', 'get'], 'path': '/v1.1/instances/{instanceName}/snippets/scripts/' }, 'runtimes': { 'methods': ['post', 'get'], 'path': '/v1.1/instances/{instanceName}/snippets/scripts/runtimes/' }, 'run': { 'methods': ['post'], 'path': '/v1.1/instances/{instanceName}/snippets/scripts/{id}/run/' } }, relatedModels: [ 'ScriptTrace' ] }); const ScriptConstraints = { instanceName: { presence: true, length: { minimum: 5 } }, runtime_name: { presence: true, inclusion: ['nodejs', 'python', 'ruby', 'golang', 'php', 'swift'] }, source: { string: true }, config: { object: true }, label: { presence: true, string: true }, description: { string: true } } /** * OO wrapper around scripts {@link http://docs.syncano.com/v4.0/docs/codebox-list-codeboxes endpoint}. * **Script** has special method called ``run`` which will execute attached source code. * @constructor * @type {Script} * @property {Number} id * @property {String} instanceName * @property {String} label * @property {String} source * @property {String} runtime_name * @property {String} [description = null] * @property {String} [links = {}] * @property {Date} [created_at = null] * @property {Date} [updated_at = null] */ const Script = stampit() .compose(Model) .setMeta(ScriptMeta) .setConstraints(ScriptConstraints) .setQuerySet(ScriptQuerySet) .methods({ /** * Runs current Script. * @memberOf Script * @instance * @param {Object} [payload = {}] * @returns {Promise} * @example {@lang javascript} * Script.please().get({instanceName: 'test-one', id: 1}).then(function(script) { * script.run({some: 'variable'}).then(function(trace) {}); * }); */ run(payload = {}) { const meta = this.getMeta(); const path = meta.resolveEndpointPath('run', this); return this.makeRequest('POST', path, {payload}); }, /** * Gets allowed runtimes. * @memberOf Script * @instance * @returns {Promise} * @example {@lang javascript} * Script.please().runtimes({instanceName: 'test-one', id: 1}).then(function(script) { * script.runtimes().then(function(runtimes) {}); * }); */ getRuntimes() { const meta = this.getMeta(); const path = meta.resolveEndpointPath('runtimes', this); return this.makeRequest('GET', path, {payload}); } }); export default Script; × Search results Close "},"models_scriptendpoint.js.html":{"id":"models_scriptendpoint.js.html","title":"Source: models/scriptendpoint.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: models/scriptendpoint.js import stampit from 'stampit'; import _ from 'lodash'; import {Meta, Model} from './base'; import QuerySet from '../querySet'; const ScriptEndpointQuerySet = stampit().compose(QuerySet).methods({ /** * Runs ScriptEndpoint matching the given lookup properties. * @memberOf ScriptEndpointQuerySet * @instance * @param {Object} properties lookup properties used for path resolving * @returns {Promise} * @example {@lang javascript} * ScriptEndpoint.please().run({name: 'test', instanceName: 'test-one'}).then(function(trace) {}); */ run(properties = {}, payload = {}) { const {ScriptEndpointTrace} = this.getConfig(); this.properties = _.assign({}, this.properties, properties); this.method = 'POST'; this.endpoint = 'run'; this.payload = payload; this._serialize = false; return this.then((trace) =&gt; { return ScriptEndpointTrace.fromJSON(trace, { instanceName: this.properties.instanceName, webhookName: this.properties.name }); }); }, /** * Runs `public` ScriptEndpoint matching the given lookup properties. * @memberOf ScriptEndpointQuerySet * @instance * @param {Object} properties lookup properties used for path resolving * @returns {Promise} * @example {@lang javascript} * ScriptEndpoint.please().runPublic({public_link: '44cfc5552eacc', instanceName: 'test-one'}).then(function(trace) {}); */ runPublic(properties = {}, payload = {}) { const {ScriptEndpointTrace} = this.getConfig(); this.properties = _.assign({}, this.properties, properties); this.method = 'POST'; this.endpoint = 'public'; this.payload = payload; this._serialize = false; return this.then((trace) =&gt; { return ScriptEndpointTrace.fromJSON(trace, { instanceName: this.properties.instanceName, webhookName: this.properties.name }); }); }, /** * Resets ScriptEndpoint matching the given lookup properties. * @memberOf ScriptEndpointQuerySet * @instance * @param {Object} properties lookup properties used for path resolving * @returns {ScriptEndpointQuerySet} * @example {@lang javascript} * ScriptEndpoint.please().reset({name: 'test', instanceName: 'test-one'}).then(function(trace) {}); */ reset(properties = {}) { this.properties = _.assign({}, this.properties, properties); this.method = 'POST'; this.endpoint = 'reset'; return this; } }); const ScriptEndpointMeta = Meta({ name: 'scriptendpoint', pluralName: 'scriptendpoints', endpoints: { 'detail': { 'methods': ['delete', 'patch', 'put', 'get'], 'path': '/v1.1/instances/{instanceName}/endpoints/scripts/{name}/' }, 'list': { 'methods': ['post', 'get'], 'path': '/v1.1/instances/{instanceName}/endpoints/scripts/' }, 'run': { 'methods': ['post'], 'path': '/v1.1/instances/{instanceName}/endpoints/scripts/{name}/run/' }, 'reset': { 'methods': ['post'], 'path': '/v1.1/instances/{instanceName}/endpoints/scripts/{name}/reset_link/' }, 'public': { 'methods': ['post'], 'path': '/v1.1/instances/{instanceName}/endpoints/scripts/p/{public_link}/{name}/' } }, relatedModels: ['ScriptEndpointTrace'] }); const ScriptEndpointConstraints = { instanceName: { presence: true, length: { minimum: 5 } }, name: { presence: true, string: true, length: { minimum: 5 } }, description: { string: true }, public: { boolean: true }, script: { presence: true, numericality: { noStrings: true } } }; /** * OO wrapper around instance webhooks {@link # endpoint}. * @constructor * @type {ScriptEndpoint} * @property {String} name * @property {String} instanceName * @property {String} public_link * @property {Boolean} public * @property {Number} codebox * @property {String} [description = null] * @property {String} [links = {}] */ const ScriptEndpoint = stampit() .compose(Model) .setMeta(ScriptEndpointMeta) .setQuerySet(ScriptEndpointQuerySet) .setConstraints(ScriptEndpointConstraints) .methods({ /** * Runs current ScriptEndpoint. * @memberOf ScriptEndpoint * @instance * @param {Object} [payload = {}] * @returns {Promise} * @example {@lang javascript} * ScriptEndpoint.please().get({instanceName: 'test-one', id: 1}).then(function(codebox) { codebox.run({some: 'variable'}).then(function(trace) {}); }); */ run(payload = {}) { const {ScriptEndpointTrace} = this.getConfig(); const meta = this.getMeta(); const path = meta.resolveEndpointPath('run', this); return this.makeRequest('POST', path, {payload}) .then((body) =&gt; { return ScriptEndpointTrace.fromJSON(body, { instanceName: this.instanceName, webhookName: this.name }); }); }, /** * Runs current `public` ScriptEndpoint. * @memberOf ScriptEndpoint * @instance * @param {Object} [payload = {}] * @returns {Promise} * @example {@lang javascript} * ScriptEndpoint.please().get({instanceName: 'test-one', id: 1}).then(function(codebox) { codebox.runPublic({some: 'variable'}).then(function(trace) {}); }); */ runPublic(payload = {}) { const {ScriptEndpointTrace} = this.getConfig(); const meta = this.getMeta(); const path = meta.resolveEndpointPath('public', this); return this.makeRequest('POST', path, {payload}) .then((body) =&gt; { return ScriptEndpointTrace.fromJSON(body, { instanceName: this.instanceName, webhookName: this.name }); }); }, /** * Resets current ScriptEndpoint. * @memberOf ScriptEndpoint * @instance * @returns {Promise} * @example {@lang javascript} * ScriptEndpoint.please().get({instanceName: 'test-one', name: 'test'}).then(function(webhook) { webhook.reset().then(function() {}); }); */ reset() { const meta = this.getMeta(); const path = meta.resolveEndpointPath('reset', this); return this.makeRequest('POST', path).then((body) =&gt; this.serialize(body)); } }); export default ScriptEndpoint; × Search results Close "},"models_scriptendpointtrace.js.html":{"id":"models_scriptendpointtrace.js.html","title":"Source: models/scriptendpointtrace.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: models/scriptendpointtrace.js import stampit from 'stampit'; import {Meta, Model} from './base'; import {BaseQuerySet, Get, List} from '../querySet'; const ScriptEndpointTraceQuerySet = stampit().compose( BaseQuerySet, Get, List ); const ScriptEndpointTraceMeta = Meta({ name: 'triggertrace', pluralName: 'triggertraces', endpoints: { 'detail': { 'methods': ['get'], 'path': '/v1.1/instances/{instanceName}/endpoints/scripts/{scriptEndpointName}/traces/{id}/' }, 'list': { 'methods': ['get'], 'path': '/v1.1/instances/{instanceName}/endpoints/scripts/{scriptEndpointName}/traces/' } } }); const ScriptEndpointTraceConstraints = { instanceName: { presence: true, length: { minimum: 5 } }, scriptEndpointName: { presence: true, string: true } }; /** * OO wrapper around webhook traces {@link # endpoint}. * This model is *read only*. * @constructor * @type {ScriptEndpointTrace} * @property {Number} id * @property {String} instanceName * @property {String} scriptEndpointName * @property {String} status * @property {Date} executed_at * @property {Number} duration * @property {Object} [result = {}] * @property {String} result.stderr * @property {String} result.stdout * @property {String} [links = {}] */ const ScriptEndpointTrace = stampit() .compose(Model) .setMeta(ScriptEndpointTraceMeta) .setQuerySet(ScriptEndpointTraceQuerySet) .setConstraints(ScriptEndpointTraceConstraints); export default ScriptEndpointTrace; × Search results Close "},"models_scripttrace.js.html":{"id":"models_scripttrace.js.html","title":"Source: models/scripttrace.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: models/scripttrace.js import stampit from 'stampit'; import {Meta, Model} from './base'; import {BaseQuerySet, Get, List} from '../querySet'; const ScriptTraceQuerySet = stampit().compose( BaseQuerySet, Get, List ); const ScriptTraceMeta = Meta({ name: 'scripttrace', pluralName: 'scripttrace', endpoints: { 'detail': { 'methods': ['delete', 'patch', 'put', 'get'], 'path': '/v1.1/instances/{instanceName}/scripts/{scriptId}/traces/{id}/' }, 'list': { 'methods': ['post', 'get'], 'path': '/v1.1/instances/{instanceName}/scripts/{scriptId}/traces/' } } }); const ScriptConstraints = { instanceName: { presence: true, length: { minimum: 5 } }, scriptId: { presence: true } }; /** * OO wrapper around script trace {@link # endpoint}. * This model is *read only*. * @constructor * @type {ScriptTrace} * @property {Number} id * @property {String} instanceName * @property {Number} scriptId * @property {String} status * @property {Date} executed_at * @property {Number} duration * @property {Object} [result = {}] * @property {String} result.stderr * @property {String} result.stdout * @property {String} [links = {}] */ const ScriptTrace = stampit() .compose(Model) .setQuerySet(ScriptTraceQuerySet) .setConstraints(ScriptConstraints) .setMeta(ScriptTraceMeta); export default ScriptTrace; × Search results Close "},"syncano.js.html":{"id":"syncano.js.html","title":"Source: syncano.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: syncano.js import stampit from 'stampit'; import _ from 'lodash'; import models from './models'; import Account from './account'; import Pinger from './pinger'; import SyncanoFile from './file'; /** * Main Syncano object. * @constructor * @type {Syncano} * @param {Object} options All configuration options * @param {Object} [options.baseUrl = 'https://api.syncano.io'] Base URL for all api calls. * @param {Object} [options.accountKey = null] Your Syncano account key. * @param {Object} [options.userKey = null] Instance user api key. * @param {Object} [options.socialToken = null] Instance social authentication token. * @param {Object} [options.defaults = {}] Object with default properties for api calls. * @returns {Syncano} * @example {@lang javascript} * var connection = Syncano({accountKey: '123'}); * var connection = Syncano({userKey: '123'}); * var connection = Syncano({socialToken: '123'}); * var connection = Syncano({ defaults: { instanceName: 'my-instance' }}); */ const Syncano = stampit() // We need function here, do not use arrow syntax! .init(function() { this.Account = Account.setConfig(this)(); this.Monitor = Pinger.setConfig(this)(); _.forEach(models, (model, name) =&gt; { this[name] = model.setConfig(this); }); }) .refs({ baseUrl: 'https://api.syncano.io', accountKey: null, userKey: null, apiKey: null, socialToken: null, defaults: {} }) .methods({ /** * Sets *instanceName*. * @memberOf Syncano * @instance * @param {String} instanceName Instance name for all api calls * @returns {Syncano} * @throws {Error} Instance name must be a string. * @example {@lang javascript} * var connection = Syncano({accountKey: '123'}); * connection.setInstanceName('my-instance'); */ setInstanceName(instanceName) { if(_.isEmpty(instanceName)) this.defaults.instanceName = null; else { if(!_.isString(instanceName)) throw new Error('Instance name must be a string.'); this.defaults.instanceName = instanceName; } return this; }, /** * Gets *instanceName*. * @memberOf Syncano * @instance * @returns {String} * @example {@lang javascript} * var connection = Syncano({accountKey: '123'}); * var baseUrl = connection.getInstanceName(); */ getInstanceName() { return this.defaults.instanceName; }, /** * Sets *baseUrl*. * @memberOf Syncano * @instance * @param {String} baseUrl Base URL for all api calls * @returns {Syncano} * @throws {Error} Base URL is required. * @example {@lang javascript} * var connection = Syncano({accountKey: '123'}); * connection.setBaseUrl('https://dummy.com/'); */ setBaseUrl(baseUrl) { if(_.isEmpty(baseUrl)) throw new Error('Base URL is required.'); this.baseUrl = baseUrl; return this; }, /** * Gets *baseUrl*. * @memberOf Syncano * @instance * @returns {String} * @example {@lang javascript} * var connection = Syncano({accountKey: '123'}); * var baseUrl = connection.getBaseUrl(); */ getBaseUrl() { return this.baseUrl; }, /** * Sets *accountKey*. * @memberOf Syncano * @instance * @param {String} accountKey Your {@link https://syncano.io|Syncano} account key * @returns {Syncano} * @example {@lang javascript} * var connection = Syncano({accountKey: '123'}); * connection.setAccountKey('abcd'); */ setAccountKey(accountKey) { this.accountKey = accountKey; return this; }, /** * Gets *accountKey*. * @memberOf Syncano * @instance * @returns {String} * @example {@lang javascript} * var connection = Syncano({accountKey: '123'}); * var accountKey = connection.getAccountKey(); */ getAccountKey() { return this.accountKey; }, /** * Sets *userKey*. * @memberOf Syncano * @instance * @param {String} userKey Instance user api key * @returns {Syncano} * @example {@lang javascript} * var connection = Syncano({userKey: '123'}); * connection.setUserKey('abcd'); */ setUserKey(userKey) { this.userKey = userKey; return this; }, /** * Gets *userKey*. * @memberOf Syncano * @instance * @returns {String} * @example {@lang javascript} * var connection = Syncano({userKey: '123'}); * var userKey = connection.getUserKey(); */ getUserKey() { return this.userKey; }, /** * Sets *apiKey*. * @memberOf Syncano * @instance * @param {String} apiKey Instance user api key * @returns {Syncano} * @example {@lang javascript} * var connection = Syncano({apiKey: '123'}); * connection.setApiKey('abcd'); */ setApiKey(apiKey) { this.apiKey = apiKey; return this; }, /** * Gets *apiKey*. * @memberOf Syncano * @instance * @returns {String} * @example {@lang javascript} * var connection = Syncano({apiKey: '123'}); * var apiKey = connection.getApiKey(); */ getApiKey() { return this.apiKey; }, /** * Sets *socialToken*. * @memberOf Syncano * @instance * @param {String} socialToken Instance social authentication token * @returns {Syncano} * @example {@lang javascript} * var connection = Syncano({socialToken: '123'}); * connection.setSocialToken('abcd'); */ setSocialToken(socialToken) { this.socialToken = socialToken; return this; }, /** * Gets *socialToken*. * @memberOf Syncano * @instance * @returns {String} * @example {@lang javascript} * var connection = Syncano({socialToken: '123'}); * var socialToken = connection.getSocialToken(); */ getSocialToken() { return this.socialToken; }, file(content) { return new SyncanoFile(content); } }).static({ file(content) { return new SyncanoFile(content); } }); export default Syncano; × Search results Close "},"models_template.js.html":{"id":"models_template.js.html","title":"Source: models/template.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: models/template.js import stampit from 'stampit'; import {Meta, Model} from './base'; import _ from 'lodash'; import QuerySet from '../querySet'; const TemplateQuerySet = stampit().compose(QuerySet).methods({ /** * Renames a template. * @memberOf TemplateQuerySet * @instance * @param {Object} properties lookup properties used for path resolving * @param {Object} payload object with request payload * @returns {Promise} * @example {@lang javascript} * Template.please().rename({name: 'my-template', instanceName: 'test-one'}, { new_name: 'new-name'}).then(function(template) {}); */ rename(properties = {}, payload = { new_name: this.name }) { this.properties = _.assign({}, this.properties, properties); this.method = 'POST'; this.endpoint = 'rename' this.payload = payload; return this; }, render(properties = {}, context = {}) { this.properties = _.assign({}, this.properties, properties); this.method = 'POST'; this.endpoint = 'render'; this.payload = {context}; this.responseAttr = 'text'; this.raw(); return this; } }); const TemplateMeta = Meta({ name: 'template', pluralName: 'templates', endpoints: { 'detail': { 'methods': ['delete', 'patch', 'put', 'get'], 'path': '/v1.1/instances/{instanceName}/snippets/templates/{name}/' }, 'list': { 'methods': ['post', 'get'], 'path': '/v1.1/instances/{instanceName}/snippets/templates/' }, 'rename': { 'methods': ['post'], 'path': '/v1.1/instances/{instanceName}/snippets/templates/{name}/rename/' }, 'render': { 'methods': ['post'], 'path': '/v1.1/instances/{instanceName}/snippets/templates/{name}/render/' } } }); const TemplateConstraints = { name: { presence: true, string: true, length: { minimum: 5 } }, instanceName: { presence: true, length: { minimum: 5 } }, content: { presence: true, string: true }, content_type: { presence: true, string: true }, context: { object: true } }; /** * OO wrapper around templates {@link # endpoint}. * @constructor * @type {Template} * @property {String} name * @property {String} instanceName * @property {String} content * @property {String} content_type * @property {Object} context * @property {String} [links = {}] */ const Template = stampit() .compose(Model) .setMeta(TemplateMeta) .setQuerySet(TemplateQuerySet) .methods({ rename(payload = { new_name: this.name }) { const options = {payload}; const meta = this.getMeta(); const path = meta.resolveEndpointPath('rename', this); return this.makeRequest('POST', path, options); }, render(context = {}) { const options = { payload: {context}, responseAttr: 'text' } const meta = this.getMeta(); const path = meta.resolveEndpointPath('render', this); return this.makeRequest('POST', path, options); } }) .setConstraints(TemplateConstraints); export default Template; × Search results Close "},"models_trigger.js.html":{"id":"models_trigger.js.html","title":"Source: models/trigger.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: models/trigger.js import stampit from 'stampit'; import {Meta, Model} from './base'; const TriggerMeta = Meta({ name: 'trigger', pluralName: 'triggers', endpoints: { 'detail': { 'methods': ['delete', 'patch', 'put', 'get'], 'path': '/v1.1/instances/{instanceName}/triggers/{id}/' }, 'list': { 'methods': ['post', 'get'], 'path': '/v1.1/instances/{instanceName}/triggers/' } }, relatedModels: [ 'TriggerTrace' ] }); const TriggerConstraints = { instanceName: { presence: true, length: { minimum: 5 } }, label: { presence: true, string: true }, description: { string: true }, signal: { presence: true, inclusion: ['post_update', 'post_create', 'post_delete'] }, script: { presence: true, numericality: { noStrings: true } }, class: { presence: true, string: true } }; /** * OO wrapper around instance triggers {@link # endpoint}. * @constructor * @type {Trigger} * @property {Number} id * @property {String} instanceName * @property {String} label * @property {String} signal * @property {Number} codebox * @property {String} class * @property {String} [description = null] * @property {String} [links = {}] * @property {Date} [created_at = null] * @property {Date} [updated_at = null] */ const Trigger = stampit() .compose(Model) .setConstraints(TriggerConstraints) .setMeta(TriggerMeta); export default Trigger; × Search results Close "},"models_triggertrace.js.html":{"id":"models_triggertrace.js.html","title":"Source: models/triggertrace.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: models/triggertrace.js import stampit from 'stampit'; import {Meta, Model} from './base'; import {BaseQuerySet, Get, List} from '../querySet'; const TriggerTraceQuerySet = stampit().compose( BaseQuerySet, Get, List ); const TriggerTraceMeta = Meta({ name: 'triggertrace', pluralName: 'triggertraces', endpoints: { 'detail': { 'methods': ['delete', 'patch', 'put', 'get'], 'path': '/v1.1/instances/{instanceName}/triggers/{triggerId}/traces/{id}/' }, 'list': { 'methods': ['post', 'get'], 'path': '/v1.1/instances/{instanceName}/triggers/{triggerId}/traces/' } } }); const TriggerTraceConstraints = { instanceName: { presence: true, length: { minimum: 5 } }, triggerId: { presence: true, numericality: { noStrings: true } } }; /** * OO wrapper around trigger trace {@link # endpoint}. * This model is *read only*. * @constructor * @type {TriggerTrace} * @property {Number} id * @property {String} instanceName * @property {Number} triggerId * @property {String} status * @property {Date} executed_at * @property {Number} duration * @property {Object} [result = {}] * @property {String} result.stderr * @property {String} result.stdout * @property {String} [links = {}] */ const TriggerTrace = stampit() .compose(Model) .setQuerySet(TriggerTraceQuerySet) .setConstraints(TriggerTraceConstraints) .setMeta(TriggerTraceMeta); export default TriggerTrace; × Search results Close "},"models_user.js.html":{"id":"models_user.js.html","title":"Source: models/user.js","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Source: models/user.js import stampit from 'stampit'; import _ from 'lodash'; import {Meta, Model} from './base'; import {BaseQuerySet, Get, Create, BulkCreate, List} from '../querySet'; const UserQuerySet = stampit().compose( BaseQuerySet, Get, Create, BulkCreate, List ).methods({ /** * Gets a user's groups. * @memberOf UserQuerySet * @instance * @param {Object} properties lookup properties used for path resolving * @returns {Promise} * @example {@lang javascript} * User.please().getGroups({id: 1, instanceName: 'test-one'}).then(function(groups) {}); */ getGroups(properties = {}) { const {Group} = this.getConfig(); this.properties = _.assign({}, this.properties, properties); return Group.please().getUserGroups(this.properties); }, /** * Gets a user's group. * @memberOf UserQuerySet * @instance * @param {Object} properties lookup properties used for path resolving * @returns {Promise} * @example {@lang javascript} * User.please().getGroup({user: 1, instanceName: 'test-one', group: 1}).then(function(group) {}); */ getGroup(properties = {}, group = {}) { const {Group} = this.getConfig(); this.properties = _.assign({}, this.properties, properties); return Group.please().getUserGroup(this.properties, group); }, /** * Adds a group to user. * @memberOf UserQuerySet * @instance * @param {Object} properties lookup properties used for path resolving * @param {Object} group object with id of group to be added * @returns {Promise} * @example {@lang javascript} * User.please().getGroup({user: 1, instanceName: 'test-one'}, {group: 1}).then(function(group) {}); */ addGroup(properties = {}, group = {}) { const {Group} = this.getConfig(); this.properties = _.assign({}, this.properties, properties); return Group.please().addUserGroup(this.properties, group); }, /** * Removes a user's group. * @memberOf UserQuerySet * @instance * @param {Object} properties lookup properties used for path resolving * @param {Object} group object with id of group to be added * @returns {Promise} * @example {@lang javascript} * User.please().deleteGroup({user: 1, instanceName: 'test-one'}, {group: 1}).then(function(group) {}); */ deleteGroup(properties = {}, group = {}) { const {Group} = this.getConfig(); this.properties = _.assign({}, this.properties, properties); return Group.please().deleteUserGroup(this.properties, group); }, getDetails(properties = {}, user = {}) { this.properties = _.assign({}, this.properties, properties, user); this.method = 'GET'; this.endpoint = 'groupUser'; return this.then((response) =&gt; { return this.model.fromJSON(response.user, this.properties); }); }, groupUsers(properties = {}) { this.properties = _.assign({}, this.properties, properties); this.method = 'GET'; this.endpoint = 'groupUsers'; return this.then((response) =&gt; { return this.model.please().asResultSet(response, 'user'); }); }, addUserToGroup(properties = {}, user = {}) { this.properties = _.assign({}, this.properties, properties); this.payload = user; this.method = 'POST'; this.endpoint = 'groupUsers'; return this.then((response) =&gt; { return this.model.fromJSON(response.user, this.properties); }); }, deleteUserFromGroup(properties = {}, user = {}) { this.properties = _.assign({}, this.properties, properties, user); this.payload = user; this.method = 'DELETE'; this.endpoint = 'groupUser'; return this; }, get(properties = {}) { const config = this.getConfig(); this.properties = _.assign({}, this.properties, properties); this.method = 'GET'; this.endpoint = 'detail'; if (_.isEmpty(config.getAccountKey()) &amp;&amp; !_.isEmpty(config.getUserKey()) &amp;&amp; !_.isEmpty(config.getApiKey())) { this.endpoint = 'user'; } return this; }, update(properties = {}, object = {}) { const config = this.getConfig(); this.properties = _.assign({}, this.properties, properties); this.payload = object; this.method = 'PATCH'; this.endpoint = 'detail'; if (_.isEmpty(config.getAccountKey()) &amp;&amp; !_.isEmpty(config.getUserKey()) &amp;&amp; !_.isEmpty(config.getApiKey())) { this.endpoint = 'user'; } return this; }, /** * Restes user key. * @memberOf UserQuerySet * @instance * @param {Object} properties lookup properties used for path resolving * @returns {Promise} * @example {@lang javascript} * User.please().resetKey({id: 1, instanceName: 'test-one'}).then(function(user) {}); */ resetKey(properties = {}) { this.properties = _.assign({}, this.properties, properties); this.method = 'POST'; this.endpoint = 'reset_key'; return this; }, /** * A convenience method for authenticating instance user with email and password. * @memberOf UserQuerySet * @instance * @param {Object} properties * @param {String} properties.instanceName * @param {Object} credentials * @param {String} credentials.email * @param {String} credentials.password * @returns {Promise} */ login(properties = {}, credentials = {}) { this.properties = _.assign({}, this.properties, properties); this.method = 'POST'; this.endpoint = 'login'; this.payload = credentials; return this; }, /** * A convenience method for authenticating instance user with email and password. * @memberOf UserQuerySet * @instance * @param {Object} properties * @param {String} properties.instanceName * @param {String} properties.backend * @param {Object} credentials * @param {String} credentials.access_token * @returns {Promise} */ socialLogin(properties = {}, credentials = {}) { this.properties = _.assign({}, this.properties, properties); this.method = 'POST'; this.endpoint = 'socialLogin'; this.payload = credentials; return this; } }); const UserMeta = Meta({ name: 'user', pluralName: 'users', endpoints: { 'detail': { 'methods': ['delete', 'patch', 'put', 'get'], 'path': '/v1.1/instances/{instanceName}/users/{id}/' }, 'reset_key': { 'methods': ['post'], 'path': '/v1.1/instances/{instanceName}/users/{id}/reset_key/' }, 'list': { 'methods': ['post', 'get'], 'path': '/v1.1/instances/{instanceName}/users/' }, 'login': { 'methods': ['post'], 'path': '/v1.1/instances/{instanceName}/user/auth/' }, 'socialLogin': { 'methods': ['post'], 'path': '/v1.1/instances/{instanceName}/user/auth/{backend}/' }, 'user': { 'methods': ['get', 'post', 'patch'], 'path': '/v1.1/instances/{instanceName}/user/' }, 'groupUsers': { 'methods': ['get', 'post'], 'path': '/v1.1/instances/{instanceName}/groups/{id}/users/' }, 'groupUser': { 'methods': ['get', 'delete'], 'path': '/v1.1/instances/{instanceName}/groups/{id}/users/{user}/' } } }); const UserConstraints = { instanceName: { presence: true, length: { minimum: 5 } }, username: { presence: true, string: true }, password: { presence: true, string: true }, profile: { object: true }, 'profile.owner_permissions': { inclusion: ['none', 'read', 'write', 'full'] }, 'profile.group': { numericality: { noStrings: true } }, 'profile.group_permissions': { inclusion: ['none', 'read', 'write', 'full'] }, 'profile.other_permissions': { inclusion: ['none', 'read', 'write', 'full'] }, 'profile.channel': { string: true }, 'profile.channel_room': { string: true } }; /** * OO wrapper around instance users {@link http://docs.syncano.com/v4.0/docs/user-management endpoint}. * @constructor * @type {User} * @property {Number} id * @property {String} instanceName * @property {String} username * @property {String} password * @property {String} user_key * @property {String} [links = {}] * @property {Date} [created_at = null] * @property {Date} [updated_at = null] */ const User = stampit() .compose(Model) .setMeta(UserMeta) .setQuerySet(UserQuerySet) .setConstraints(UserConstraints) .methods({ /** * Gets a user's groups. * @memberOf User * @instance * @returns {Promise} * @example {@lang javascript} * User.please().get({instanceName: 'test-one', id: 1}).then(function(user) { * user.getGroups().then(function(groups) {}); * }); */ getGroups() { const {Group} = this.getConfig(); return Group.please().getUserGroups({ user: this.id, instanceName: this.instanceName}); }, /** * Gets a user's group. * @memberOf User * @instance * @returns {Promise} * @example {@lang javascript} * User.please().get({instanceName: 'test-one', id: 1}).then(function(user) { * user.getGroup({ group: 1 }).then(function(group) {}); * }); */ getGroup(group = {}) { const {Group} = this.getConfig(); return Group.please().getUserGroup({ user: this.id, instanceName: this.instanceName}, group); }, /** * Adds a group to user. * @memberOf User * @instance * @param {Object} group object with id of group to be added * @returns {Promise} * @example {@lang javascript} * User.please().get({instanceName: 'test-one', id: 1}).then(function(user) { * user.addGroup({ group: 1}).then(function(group) {}); * }); */ addGroup(group = {}) { const {Group} = this.getConfig(); return Group.please().addUserGroup({ user: this.id, instanceName: this.instanceName}, group); }, /** * Removes a user's group. * @memberOf User * @instance * @param {Object} group object with id of group to be added * @returns {Promise} * @example {@lang javascript} * User.please().get({instanceName: 'test-one', id: 1}).then(function(user) { * user.deleteGroup({ group: 1}).then(function(group) {}); * }); */ deleteGroup(group = {}) { const {Group} = this.getConfig(); return Group.please().deleteUserGroup({ user: this.id, instanceName: this.instanceName}, group); }, /** * Restes user key. * @memberOf User * @instance * @returns {Promise} * @example {@lang javascript} * User.please().get({instanceName: 'test-one', id: 1}).then(function(user) { * user.resetKey().then(function(user) {}); * }); */ resetKey() { const meta = this.getMeta(); const path = meta.resolveEndpointPath('reset_key', this); return this.makeRequest('POST', path, {}).then((body) =&gt; this.serialize(body)); } }); export default User; × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Classes Classes Account Admin ApiKey APNSConfig APNSDevice APNSMessage Channel ChannelPoll Class ConfigMixin ConstraintsMixin DataEndpoint DataObject EventEmittable GCMConfig GCMDevice GCMMessage Group Instance InstanceInvitation Invitation Logger Meta MetaMixin Model Pinger QuerySet Request ResultSet Schedule ScheduleTrace Script ScriptEndpoint ScriptEndpointTrace ScriptTrace Syncano Template Trigger TriggerTrace User × Search results Close "},"tutorials.list.html":{"id":"tutorials.list.html","title":"Tutorials","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Tutorials Classes Account Admin ApiKey APNSConfig APNSDevice APNSMessage Channel ChannelPoll Class ConfigMixin ConstraintsMixin DataEndpoint DataObject EventEmittable GCMConfig GCMDevice GCMMessage Group Instance InstanceInvitation Invitation Logger Meta MetaMixin Model Pinger QuerySet Request ResultSet Schedule ScheduleTrace Script ScriptEndpoint ScriptEndpointTrace ScriptTrace Syncano Template Trigger TriggerTrace User × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Syncano Javascript Library This library enables you to interact with the Syncano platform via Javascript. For more information on the platform, please refer to the docs and the FAQ. Also check out our libraries for iOS, Python, Ruby, Android and Arduino. We also have an AngularJs integration available. Getting startedIn order to use the plaftorm, you need an account - you can sign up here. The library can be used server-side and client-side. You can install the library using npm, bower or by downloading a release from the Github repository. Installing from Bowerbower install syncano --saveClient-side usage&lt;script src=&quot;path/to/bower_components/syncano/dist/syncano.min.js&quot;&gt;&lt;/script&gt;Installing from NPMnpm install syncano --saveServer-side usageThe library supports the CommonJS syntax: var Syncano = require('syncano');You can also use it with ES6 modules: import Syncano from 'syncano';Creating a connectionTo create a connection, simply initialize the Syncano object with the following configuration parameters: // create a connection with an account key var connection = Syncano({ accountKey: 'MY_ACCOUNT_KEY'}); // create a connection with a user key var connection = Syncano({ userKey: 'USER_KEY'}); // create a connection with a social token var connection = Syncano({ socialToken: 'SOCIAL_TOKEN'}); // create a connection with a api key var connection = Syncano({ apiKey: 'API_KEY'});From now on, you can access all of the objects on the platform via the connection object. Basic interactionsModel instancesThe connection you configured in the previous step has a set of factories that make interacting with objects on the platform easier. For example, if you would like to create a new instance object, you can do it like so: var instance = connection.Instance({ name: 'INSTANCE_NAME', description: 'INSTANCE_DESCRIPTION' });You can later save the instance, by calling its save method: instance.save();Nested modelsThe objects (models) are also nested, so if you would like to list the Classes of an Instance, there's an elegant function chain for that: connection.Instance({name: 'silent-dawn-3609'}).classes().list()QuerySetEvery model has a static please method that returns a QuerySet object allowing you to perform additional queries like like listing objects: connection.Instance.please().list();PromisesThe library uses Promises to enforce writing more readable and elegant code. You can get the result of a query with the then metod and the errors with the catch method: connection.Instance.please().list() .then(function(result) { // handle result }) .catch(function(error) { // handle error });ContributingThis library is built using Stampit. If you find a bug, feel free to submit an issue. If you would like to directly contribute to the library, we are open for pull requests. Contributors Daniel Kopka - twitter, github Jakub Bilko - twitter, github Changelog × Search results Close "},"Account.html":{"id":"Account.html","title":"Class: Account","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: Account Account new Account() Wrapper around account endpoint. Meant to be used directly form Syncano instance. Source: account.js, line 17 Example const {Account} = Syncano(); Account.login({email: '', password: ''}).then((user) =&gt; { }); Methods login(payload, setAccountKey) A convenience method for authenticating with email and password. Parameters: Name Type Argument Default Description payload Object Properties Name Type Description email String password String setAccountKey Boolean &lt;optional&gt; true Source: account.js, line 57 Returns: Type Promise register(payload) A convenience method for creating a new account. Parameters: Name Type Description payload Object Properties Name Type Description email String password String Source: account.js, line 39 Returns: Type Promise update(payload) A convenience method for updating your account details. Parameters: Name Type Description payload Object Properties Name Type Description first_name String last_name String Source: account.js, line 81 Returns: Type Promise × Search results Close "},"Admin.html":{"id":"Admin.html","title":"Class: Admin","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: Admin Admin new Admin() OO wrapper around instance admins endpoint. Properties: Name Type Argument Default Description id Number instanceName String first_name String last_name String email String role String One of full, write and read. links Object &lt;optional&gt; {} Source: models/admin.js, line 39 × Search results Close "},"ApiKey.html":{"id":"ApiKey.html","title":"Class: ApiKey","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: ApiKey ApiKey new ApiKey() OO wrapper around instance api keys endpoint. Properties: Name Type Argument Default Description id Number instanceName String api_key String &lt;optional&gt; null allow_user_create Boolean &lt;optional&gt; null ignore_acl Boolean &lt;optional&gt; null links String &lt;optional&gt; {} Source: models/apikey.js, line 77 × Search results Close "},"APNSConfig.html":{"id":"APNSConfig.html","title":"Class: APNSConfig","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: APNSConfig APNSConfig new APNSConfig() OO wrapper around instance APNS config endpoint. Properties: Name Type Argument Default Description instanceName String production_certificate File production_certificate_name String &lt;optional&gt; null production_bundle_identifier String production_expiration_date String &lt;optional&gt; null development_certificate_name String development_certificate File development_bundle_identifier String development_expiration_date String &lt;optional&gt; null links Object &lt;optional&gt; {} Source: models/apnsconfig.js, line 47 × Search results Close "},"APNSDevice.html":{"id":"APNSDevice.html","title":"Class: APNSDevice","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: APNSDevice APNSDevice new APNSDevice() OO wrapper around instance APNS devices endpoint. Properties: Name Type Argument Default Description registration_id String device_id String instanceName String label String &lt;optional&gt; null user Number &lt;optional&gt; null is_active Boolean &lt;optional&gt; true links String &lt;optional&gt; {} created_at Date &lt;optional&gt; null updated_at Date &lt;optional&gt; null Source: models/apnsdevice.js, line 82 × Search results Close "},"APNSMessage.html":{"id":"APNSMessage.html","title":"Class: APNSMessage","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: APNSMessage APNSMessage new APNSMessage() OO wrapper around instance APNS messages endpoint. Properties: Name Type Argument Default Description id Number status String &lt;optional&gt; null content Object &lt;optional&gt; {} result Object &lt;optional&gt; {} links String &lt;optional&gt; {} created_at Date &lt;optional&gt; null updated_at Date &lt;optional&gt; null Source: models/apnsmessage.js, line 85 × Search results Close "},"Channel.html":{"id":"Channel.html","title":"Class: Channel","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: Channel Channel new Channel() OO wrapper around channels endpoint.Channel has two special methods called publish and poll. First one will send message to the channel and second one will create long polling connection which will listen for messages. Properties: Name Type Argument Default Description name String instanceName String type String group Number &lt;optional&gt; null group_permissions String &lt;optional&gt; null other_permissions String &lt;optional&gt; null custom_publish Boolean &lt;optional&gt; null Source: models/channel.js, line 357 Example Channel.please().get('instance-name', 'channel-name').then((channel) =&gt; { return channel.publish({x: 1}); }); Channel.please().get('instance-name', 'channel-name').then((channel) =&gt; { const poll = channel.poll(); poll.on('start', function() { console.log('poll::start'); }); poll.on('stop', function() { console.log('poll::stop'); }); poll.on('message', function(message) { console.log('poll::message', message); }); poll.on('custom', function(message) { console.log('poll::custom', message); }); poll.on('create', function(data) { console.log('poll::create', data); }); poll.on('delete', function(data) { console.log('poll::delete', data); }); poll.on('update', function(data) { console.log('poll::update', data); }); poll.on('error', function(error) { console.log('poll::error', error); }); poll.start(); }); × Search results Close "},"ChannelPoll.html":{"id":"ChannelPoll.html","title":"Class: ChannelPoll","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: ChannelPoll ChannelPoll new ChannelPoll() Wrapper around channels poll endpoint which implements EventEmitter interface.Use it via Channel poll method. Properties: Name Type Argument Default Description timeout Number &lt;optional&gt; 300000 5 mins path String &lt;optional&gt; null request path lastId Number &lt;optional&gt; null used internally in for loop room Number &lt;optional&gt; null abort Boolean &lt;optional&gt; false used internally to conrole for loop Source: models/channel.js, line 236 Example var poll = ChannelPoll.setConfig(config)({ path: '/v1.1/instances/some-instance/channels/some-channel/poll/' }); poll.on('start', function() { console.log('poll::start'); }); poll.on('stop', function() { console.log('poll::stop'); }); poll.on('message', function(message) { console.log('poll::message', message); }); poll.on('custom', function(message) { console.log('poll::custom', message); }); poll.on('create', function(data) { console.log('poll::create', data); }); poll.on('delete', function(data) { console.log('poll::delete', data); }); poll.on('update', function(data) { console.log('poll::update', data); }); poll.on('error', function(error) { console.log('poll::error', error); }); poll.start(); × Search results Close "},"Class.html":{"id":"Class.html","title":"Class: Class","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: Class Class new Class() OO wrapper around instance groups endpoint. Properties: Name Type Argument Default Description name String instanceName String objects_count Number schema Array status String metadata Object revision String expected_revision String group String group_permissions String other_permissions String description String &lt;optional&gt; null links String &lt;optional&gt; {} created_at Date &lt;optional&gt; null updated_at Date &lt;optional&gt; null Source: models/class.js, line 75 × Search results Close "},"ConfigMixin.html":{"id":"ConfigMixin.html","title":"Class: ConfigMixin","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: ConfigMixin ConfigMixin new ConfigMixin() Used as a manager for Syncano base object. Not meant to be used directly. Properties: Name Type Description _config Syncano private attribute which holds Syncano object Source: utils.js, line 25 Example var MyStamp = stampit().compose(ConfigMixin); Methods &lt;static&gt; getConfig() Gets config from stampit definition. Source: utils.js, line 113 Returns: Type Syncano Example var config = stampit().compose(ConfigMixin).getConfig(); &lt;static&gt; setConfig(config) Sets config and returns new stampit definition. Parameters: Name Type Description config Syncano instance of Syncano object Source: utils.js, line 98 Returns: Type stampit Example var MyStamp = stampit().compose(ConfigMixin).setConfig({}); getConfig() Gets config. Source: utils.js, line 74 Returns: Type Syncano Example var MyStamp = stampit().compose(ConfigMixin); var config = MyStamp().getConfig(); getDefaultProperties() Gets default properties. Source: utils.js, line 39 Returns: Type Object Example var MyStamp = stampit().compose(ConfigMixin); var config = MyStamp().getDefaultProperties(); setConfig(config) Sets config. Parameters: Name Type Description config Syncano instance of Syncano object Source: utils.js, line 57 Returns: Type ConfigMixin Example var MyStamp = stampit().compose(ConfigMixin); var newObject = MyStamp().setConfig({}); × Search results Close "},"ConstraintsMixin.html":{"id":"ConstraintsMixin.html","title":"Class: ConstraintsMixin","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: ConstraintsMixin ConstraintsMixin new ConstraintsMixin() Used as a manager for Constraints object (validation). Not meant to be used directly. Properties: Name Type Description _constraints Object private attribute which holds constraints object Source: utils.js, line 214 Example var MyStamp = stampit().compose(ConstraintsMixin); Methods &lt;static&gt; getConstraints() Gets constraints from stampit definition. Source: utils.js, line 283 Returns: Type Object Example var constraints = stampit().compose(ConstraintsMixin).getConstraints(); &lt;static&gt; setConstraints(constraints) Sets constraints in stampit definition used for validation. Parameters: Name Type Description constraints Object plain JavaScript object Source: utils.js, line 268 Returns: Type stampit Example var MyStamp = stampit().compose(ConstraintsMixin).setConstraints({}); getConstraints() Gets constraints from object instance. Source: utils.js, line 248 Returns: Type Object Example var MyStamp = stampit().compose(ConstraintsMixinn); var constraints = MyStamp().getConstraints(); setConstraints(constraints) Sets constraints used for validation. Parameters: Name Type Description constraints Object plain JavaScript object Source: utils.js, line 231 Returns: Type ConstraintsMixin Example var MyStamp = stampit().compose(ConstraintsMixin); var newObject = MyStamp().setConstraints({}); × Search results Close "},"DataEndpoint.html":{"id":"DataEndpoint.html","title":"Class: DataEndpoint","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: DataEndpoint DataEndpoint new DataEndpoint() OO wrapper around data views endpoint. Properties: Name Type Argument Default Description name String instanceName String query Object excluded_fields String order_by String page_size Number expand String class String description String &lt;optional&gt; null links String &lt;optional&gt; {} Source: models/dataendpoint.js, line 119 Methods fetchData() Fetches Data Objects matching the Data View properties. Parameters: Type Description Object Source: models/dataendpoint.js, line 137 Returns: Type Promise Example DataEndpoint.please().fetchData({name: 'dataViewName', instanceName: 'test-one'}).then(function(dataObjects) {}); × Search results Close "},"DataObject.html":{"id":"DataObject.html","title":"Class: DataObject","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: DataObject DataObject new DataObject() OO wrapper around instance data objects endpoint.This model is special because each instance will be dynamically populated with fields defined in related Class schema attribute. Properties: Name Type Argument Default Description id Number instanceName String className String revision Number owner Number &lt;optional&gt; null owner_permissions String &lt;optional&gt; null group Number &lt;optional&gt; null group_permissions String &lt;optional&gt; null other_permissions String &lt;optional&gt; null channel String &lt;optional&gt; null channel_room String &lt;optional&gt; null description String &lt;optional&gt; null links String &lt;optional&gt; {} created_at Date &lt;optional&gt; null updated_at Date &lt;optional&gt; null Source: models/dataobject.js, line 162 × Search results Close "},"EventEmittable.html":{"id":"EventEmittable.html","title":"Class: EventEmittable","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: EventEmittable EventEmittable new EventEmittable() Simple wrapper around EventEmitter Source: utils.js, line 12 Example var EmittableModel = stampit().compose(EventEmittable); × Search results Close "},"GCMConfig.html":{"id":"GCMConfig.html","title":"Class: GCMConfig","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: GCMConfig GCMConfig new GCMConfig() OO wrapper around instance GCM config endpoint. Properties: Name Type Argument Default Description instanceName String production_api_key String development_api_key String links Object &lt;optional&gt; {} Source: models/gcmconfig.js, line 41 × Search results Close "},"GCMDevice.html":{"id":"GCMDevice.html","title":"Class: GCMDevice","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: GCMDevice GCMDevice new GCMDevice() OO wrapper around instance GCM devices endpoint. Properties: Name Type Argument Default Description registration_id String device_id String instanceName String label String &lt;optional&gt; null user Number &lt;optional&gt; null is_active Boolean &lt;optional&gt; true links String &lt;optional&gt; {} created_at Date &lt;optional&gt; null updated_at Date &lt;optional&gt; null Source: models/gcmdevice.js, line 82 × Search results Close "},"GCMMessage.html":{"id":"GCMMessage.html","title":"Class: GCMMessage","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: GCMMessage GCMMessage new GCMMessage() OO wrapper around instance GCM messages endpoint. Properties: Name Type Argument Default Description id Number status String &lt;optional&gt; null content Object &lt;optional&gt; {} result Object &lt;optional&gt; {} links String &lt;optional&gt; {} created_at Date &lt;optional&gt; null updated_at Date &lt;optional&gt; null Source: models/gcmmessage.js, line 79 × Search results Close "},"Group.html":{"id":"Group.html","title":"Class: Group","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: Group Group new Group() OO wrapper around instance groups endpoint. Properties: Name Type Argument Default Description id Number instanceName String label String description String &lt;optional&gt; null links String &lt;optional&gt; {} created_at Date &lt;optional&gt; null updated_at Date &lt;optional&gt; null Source: models/group.js, line 173 Methods addUser() Add user to group. Source: models/group.js, line 203 Returns: Type Promise Example Group.addUser({ user: 1}).then(function(response) {}); deleteUser() Delete user from group. Source: models/group.js, line 217 Returns: Type Promise Example Group.deleteUser({ user: 1}).then(function(response) {}); getUserDetails() Fetches details of a user belonging to a group. Source: models/group.js, line 231 Returns: Type Promise Example Group.getUserDetails({ user: 1}).then(function(response) {}); getUserDetails(properties, user) Fetches details of a user belonging to a group. Parameters: Name Type Description properties Object lookup properties used for path resolving user Object object with user to be fetched Source: models/group.js, line 68 Example Group.please().getUserDetails({ user: 1}).then(function(response) {}); users() Fetches Users belonging to a group. Source: models/group.js, line 189 Returns: Type Promise Example Group.users().then(function(users) {}); × Search results Close "},"Instance.html":{"id":"Instance.html","title":"Class: Instance","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: Instance Instance new Instance() OO wrapper around instances endpoint. Properties: Name Type Argument Default Description name String owner Object Properties Name Type Description id Number email String first_name String last_name String is_active Boolean has_password Boolean role String metadata Object &lt;optional&gt; {} description String &lt;optional&gt; null links String &lt;optional&gt; {} created_at Date &lt;optional&gt; null updated_at Date &lt;optional&gt; null Source: models/instance.js, line 79 × Search results Close "},"InstanceInvitation.html":{"id":"InstanceInvitation.html","title":"Class: InstanceInvitation","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: InstanceInvitation InstanceInvitation new InstanceInvitation() OO wrapper around instance invitations endpoint. Properties: Name Type Argument Default Description email String role String key String &lt;optional&gt; null inviter String &lt;optional&gt; null status String &lt;optional&gt; null id Number &lt;optional&gt; null description String &lt;optional&gt; null links String &lt;optional&gt; {} created_at Date &lt;optional&gt; null updated_at Date &lt;optional&gt; null Source: models/instanceinvitation.js, line 78 × Search results Close "},"Invitation.html":{"id":"Invitation.html","title":"Class: Invitation","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: Invitation Invitation new Invitation() OO wrapper around invitations endpoint. Properties: Name Type Argument Default Description email String role String key String &lt;optional&gt; null inviter String &lt;optional&gt; null status String &lt;optional&gt; null id Number &lt;optional&gt; null description String &lt;optional&gt; null links String &lt;optional&gt; {} created_at Date &lt;optional&gt; null updated_at Date &lt;optional&gt; null Source: models/invitation.js, line 62 × Search results Close "},"Logger.html":{"id":"Logger.html","title":"Class: Logger","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: Logger Logger new Logger() Adds logging functionality. Source: utils.js, line 297 Example var MyStamp = stampit().compose(Logger); Methods log() Wrapper around console.log. Source: utils.js, line 305 × Search results Close "},"Meta.html":{"id":"Meta.html","title":"Class: Meta","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: Meta Meta new Meta() Object which holds whole configuration for Model. Properties: Name Type Argument Default Description name String &lt;optional&gt; null pluralName String &lt;optional&gt; null properties Array &lt;optional&gt; [] endpoints Array &lt;optional&gt; {} relatedModels Array &lt;optional&gt; Source: models/base.js, line 64 Example var MyMeta = Meta({name: 'test'}); var MyModel = SomeModel.setMeta(MyMeta); Methods assignProperties(source, target) Makes a copy of target and adds required properties from source. Parameters: Name Type Description source Object target Object Source: models/base.js, line 104 Returns: Type Object findAllowedMethod(endpointName, methodNames) Looks for the first allowed method from methodNames for selected endpoint. Parameters: Name Type Argument Description endpointName String methodNames String &lt;repeatable&gt; Source: models/base.js, line 163 Returns: Type String getObjectProperties(object) Gets required properties from object. Used mostly during serialization. Parameters: Name Type Description object Object Source: models/base.js, line 86 Returns: Type Object resolveEndpointPath(endpointName, properties) Resolves endpoint path e.g: /v1.1/instances/{name}/ will be converted to /v1.1/instances/someName/. Parameters: Name Type Description endpointName String properties Object Source: models/base.js, line 132 Returns: Type String × Search results Close "},"MetaMixin.html":{"id":"MetaMixin.html","title":"Class: MetaMixin","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: MetaMixin MetaMixin new MetaMixin() Used as a manager for Meta object. Not meant to be used directly. Properties: Name Type Description _meta Object private attribute which holds Meta object Source: utils.js, line 129 Example var MyStamp = stampit().compose(MetaMixin); Methods &lt;static&gt; getMeta() Gets meta from stampit definition. Source: utils.js, line 198 Returns: Type Meta Example var meta = stampit().compose(MetaMixin).getMeta(); &lt;static&gt; setMeta(meta) Sets meta and returns new stampit definition. Parameters: Name Type Description meta Meta instance of Meta object Source: utils.js, line 183 Returns: Type stampit Example var MyStamp = stampit().compose(MetaMixin).setMeta({}); getMeta() Gets meta. Source: utils.js, line 163 Returns: Type Meta Example var MyStamp = stampit().compose(MetaMixin); var meta = MyStamp().getMeta(); setMeta(meta) Sets meta. Parameters: Name Type Description meta Meta instance of Meta object Source: utils.js, line 146 Returns: Type MetaMixin Example var MyStamp = stampit().compose(MetaMixin); var newObject = MyStamp().setMeta({}); × Search results Close "},"Model.html":{"id":"Model.html","title":"Class: Model","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: Model Model new Model() Base stamp for all models which wraps all raw JavaScript objects.Not meant to be used directly more like mixin in other stamps. Properties: Name Type Description _config Syncano private attribute which holds Syncano object _meta Meta private attribute which holds Meta object _constraints Object private attribute which holds validation constraints _request Request private attribute which holds Request configuration _querySet Request private attribute which holds QuerySet stamp Source: models/base.js, line 194 Example var MyModel = stampit() .compose(Model) .setMeta(MyMeta) .setConstraints(MyConstraints); Methods &lt;static&gt; fromJSON(rawJSON, properties) Used only for serialization for raw object to stamp. Parameters: Name Type Argument Default Description rawJSON Object properties Object &lt;optional&gt; {} some default properties which will be assigned to model instance Source: models/base.js, line 266 Returns: Type Model &lt;static&gt; getQuerySet() Gets QuerySet from stampit definition. Source: models/base.js, line 228 Returns: Type QuerySet Example var querySet = stampit().compose(Model).getQuerySet(); &lt;static&gt; please(properties) Returns QuerySet instance which allows to do ORM like operations on Syncano API. Parameters: Name Type Argument Default Description properties Object &lt;optional&gt; {} some default properties for all ORM operations Source: models/base.js, line 245 Returns: Type QuerySet Example MyModel.please().list(); &lt;static&gt; setQuerySet(querySet) Sets QuerySet and returns new stampit definition. Parameters: Name Type Description querySet QuerySet QuerySet definition Source: models/base.js, line 213 Returns: Type Model Example var MyStamp = stampit().compose(Model).setQuerySet({}); delete() Removes the current instance. Source: models/base.js, line 350 Returns: Type Promise isNew() Checks if model instance if already saved. Source: models/base.js, line 280 Returns: Type Boolean save() Creates or updates the current instance. Source: models/base.js, line 318 Returns: Type Promise serialize() Serializes raw JavaScript object into Model instance. Source: models/base.js, line 307 Returns: Type Model validate() Validates current model instance in context of defined constraints. Source: models/base.js, line 290 Returns: Type Object | undefined × Search results Close "},"Pinger.html":{"id":"Pinger.html","title":"Class: Pinger","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: Pinger Pinger new Pinger() Utility for pinging the api. Allows checking for connection to the platofrm. Meant to be used directly form the Syncano instance. Source: pinger.js, line 22 Example const connection = Syncano(); connection.Monitor.startMonitoring(); connection.Monitor.on('connected', () =&gt; { // connected to the api }); connection.Monitor.on('disconnected', (error) =&gt; { // disconnected from the api }); × Search results Close "},"QuerySet.html":{"id":"QuerySet.html","title":"Class: QuerySet","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: QuerySet QuerySet new QuerySet() Base class responsible for all ORM (please) actions. Properties: Name Type Argument Default Description model Object endpoint String &lt;optional&gt; 'list' method String &lt;optional&gt; 'GET' headers Object &lt;optional&gt; {} properties Object &lt;optional&gt; {} query Object &lt;optional&gt; {} payload Object &lt;optional&gt; {} attachments Object &lt;optional&gt; {} _serialize Boolean &lt;optional&gt; true Source: querySet.js, line 625 Methods bulkCreate(objects) Creates many objects based on provied Array of objects. Parameters: Name Type Description objects Array Source: querySet.js, line 605 Returns: Type Promise Example const objects = [Instance({name: 'test1'}), Instance({name: 'tes21'})]; Instance.please().bulkCreate(objects).then(function(instances) { console.log('instances', instances); }); count() Returns DataObject count. Source: models/dataobject.js, line 78 Returns: Type QuerySet Example DataObject.please().list({ instanceName: 'test-instace', className: 'test-class' }).count().then(function(response) {}); create(object) A convenience method for creating an object and saving it all in one step. Parameters: Name Type Description object Object Source: querySet.js, line 207 Returns: Type Promise Example // Thus: Instance .please() .create({name: 'test-one', description: 'description'}) .then(function(instance) {}); // and: var instance = Instance({name: 'test-one', description: 'description'}); instance.save().then(function(instance) {}); // are equivalent. delete(properties) Removes single object based on provided properties. Parameters: Name Type Description properties Object lookup properties used for path resolving Source: querySet.js, line 329 Returns: Type QuerySet Example Instance.please().delete({name: 'test-instance'}).then(function() {}); Class.please().delete({name: 'test', instanceName: 'test-one'}).then(function() {}); excludedFields(fields) Removes specified fields from object response. Parameters: Name Type Description fields Object Source: querySet.js, line 461 Returns: Type QuerySet Example DataObject.please().list({ instanceName: 'test-instace', className: 'test-class' }).excludedFields(['title', 'author']).then(function(dataobjects) {}); fields(fields) Selects specified fields from object. Parameters: Name Type Description fields Object Source: querySet.js, line 481 Returns: Type QuerySet Example DataObject.please().list({ instanceName: 'test-instace', className: 'test-class' }).fields(['title', 'author']).then(function(dataobjects) {}); filter(filters) Filters DataObjects. Parameters: Name Type Description filters Object Source: models/dataobject.js, line 20 Returns: Type QuerySet Example DataObject.please().list({ instanceName: 'test-instace', className: 'test-class' }).filter({ field_name: { _contains: 'Lord Of The Rings' }}).then(function(dataobjects) {}); first(properties, query) Returns the first object matched by the lookup properties or undefined, if there is no matching object. Parameters: Name Type Argument Default Description properties Object &lt;optional&gt; {} query Object &lt;optional&gt; {} Source: querySet.js, line 504 Returns: Type Promise Example Instance.please().first().then(function(instance) {}); Class.please().first({instanceName: 'test-one'}).then(function(cls) {}); get(properties) Returns the object matching the given lookup properties. Parameters: Name Type Description properties Object lookup properties used for path resolving Source: querySet.js, line 229 Returns: Type QuerySet Example Instance.please().get({name: 'test-one'}).then(function(instance) {}); getOrCreate(properties, defaults) A convenience method for looking up an object with the given lookup properties, creating one if necessary.Successful callback will receive object, created arguments. Parameters: Name Type Description properties Object attributes which will be used for object retrieving defaults Object attributes which will be used for object creation Source: querySet.js, line 272 Returns: Type Promise Example Instance .please() .getOrCreate({name: 'test-one'}, {description: 'test'}) .then(function(instance, created) {}); // above is equivalent to: Instance .please() .get({name: 'test-one'}) .then(function(instance) { // Get }) .catch(function() { // Create return Instance.please().create({name: 'test-one', description: 'test'}); }); increment(properties, field) Updates single object based on provided arguments Parameters: Name Type Description properties Object lookup properties used for path resolving field Object to increment. Source: models/dataobject.js, line 56 Returns: Type QuerySet Example DataObject.please().increment({instanceName: 'my-instance', className: 'my-class', id: 1}, {views: 1}) list(properties, query) Returns list of objects that match the given lookup properties. Parameters: Name Type Argument Default Description properties Object &lt;optional&gt; {} lookup properties used for path resolving query Object &lt;optional&gt; {} Source: querySet.js, line 303 Returns: Type QuerySet Example Instance.please().list().then(function(instances) {}); Class.please().list({instanceName: 'test-one'}).then(function(classes) {}); orderBy(field) Orders DataObject by field. Parameters: Name Type Description field String Source: models/dataobject.js, line 38 Returns: Type QuerySet Example DataObject.please().list({ instanceName: 'test-instace', className: 'test-class' }).orderBy('author').then(function(dataobjects) {}); DataObject.please().list({ instanceName: 'test-instace', className: 'test-class' }).orderBy('-author').then(function(dataobjects) {}); ordering(value) Sets order of returned objects. Parameters: Name Type Argument Default Description value String &lt;optional&gt; 'asc' allowed choices are &quot;asc&quot; and &quot;desc&quot; Source: querySet.js, line 553 Returns: Type QuerySet Example Instance.please().ordering('desc').then(function(instances) {}); Class.please({instanceName: 'test-one'}).ordering('desc').then(function(classes) {}); pageSize(value) Sets page size. Parameters: Name Type Description value Number Source: querySet.js, line 531 Returns: Type QuerySet Example Instance.please().pageSize(2).then(function(instances) {}); Class.please({instanceName: 'test-one'}).pageSize(2).then(function(classes) {}); poll(options, start) Allows polling of a channel. Parameters: Name Type Argument Default Description options Object start Boolean &lt;optional&gt; true Source: models/channel.js, line 89 Returns: Type ChannelPoll Example var poll = Channel.please().poll({ instanceName: 'test-instace', name: 'test-class' }); poll.on('start', function() { console.log('poll::start'); }); poll.on('stop', function() { console.log('poll::stop'); }); poll.on('message', function(message) { console.log('poll::message', message); }); poll.on('custom', function(message) { console.log('poll::custom', message); }); poll.on('create', function(data) { console.log('poll::create', data); }); poll.on('delete', function(data) { console.log('poll::delete', data); }); poll.on('update', function(data) { console.log('poll::update', data); }); poll.on('error', function(error) { console.log('poll::error', error); }); poll.start(); publish(channel, message, room) Puslishes to a channel. Parameters: Name Type Argument Default Description channel Object message Object room String &lt;optional&gt; null Source: models/channel.js, line 26 Returns: Type QuerySet Example Channel.please().publish({ instanceName: 'test-instace', name: 'test-class' }, { content: 'my message'}); raw() Disables serialization. Callback will will recive raw JavaScript objects. Source: querySet.js, line 581 Returns: Type QuerySet Example Instance.please().raw().then(function(response) {}); Class.please({instanceName: 'test-one'}).raw().then(function(response) {}); request(requestPath, requestOptions) Executes current state of QuerySet Parameters: Name Type Argument Default Description requestPath String &lt;optional&gt; null requestOptions Object &lt;optional&gt; {} Source: querySet.js, line 144 Returns: Type Promise Example Instance.please().list().request().then(function(instance) {}); templateResponse(name) Renders the api response as a template. Parameters: Name Type Description name template_name of template to be rendered Source: querySet.js, line 390 Returns: Type QuerySet Example DataObject .please() .list({instanceName: 'my-instance', className: 'my-class'}) .templateResponse('objects_html_table') .then(function(objects) {}); then(callback) Wrapper around Queryset.request method Parameters: Name Type Description callback function Source: querySet.js, line 174 Returns: Type Promise update(properties, object) Updates single object based on provided arguments Parameters: Name Type Description properties Object lookup properties used for path resolving object Object attributes to update Source: querySet.js, line 362 Returns: Type QuerySet Example Instance .please() .update({name: 'test-instance'}, {description: 'new one'}) .then(function(instance) {}); Class .please() .update({name: 'test', instanceName: 'test-one'}, {description: 'new one'}) .then(function(cls) {}); updateOrCreate(properties, object, defaults) A convenience method for updating an object with the given properties, creating a new one if necessary.Successful callback will receive object, updated arguments. Parameters: Name Type Argument Default Description properties Object lookup properties used for path resolving object Object &lt;optional&gt; {} object with (field, value) pairs used in case of update defaults Object &lt;optional&gt; {} object with (field, value) pairs used in case of create Source: querySet.js, line 433 Returns: Type Promise Example Instance .please() .updateOrCreate({name: 'test-one'}, {description: 'new-test'}, {description: 'create-test'}) .then(function(instance, updated) {}); // above is equivalent to: Instance .please() .update({name: 'test-one'}, {description: 'new-test'}) .then(function(instance) { // Update }) .catch(function() { // Create return Instance.please().create({name: 'test-one', description: 'create-test'}); }); × Search results Close "},"Request.html":{"id":"Request.html","title":"Class: Request","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: Request Request new Request() Base request object not meant to be used directly more like mixin in other stamps. Properties: Name Type Description _request Object Properties Name Type Argument Default Description handler function &lt;optional&gt; superagent allowedMethods Array &lt;optional&gt; ['GET', 'POST', 'DELETE', 'HEAD', 'PUT', 'PATCH'] Source: request.js, line 24 Example var MyStamp = stampit().compose(Request); Methods &lt;static&gt; getRequestHandler() Sets request handler from stampit definition. Source: request.js, line 224 Returns: Type function &lt;static&gt; setRequestHandler() Sets request handler and returns new stampit object, used for mocking. Source: request.js, line 212 Returns: Type stampit buildUrl(path) Builds full URL based on path. Parameters: Name Type Description path String path part of URL e.g: /v1.1/instances/ Source: request.js, line 72 Returns: Type String getRequestHandler() Gets request handler. Source: request.js, line 58 Returns: Type function makeRequest(methodName, path, requestOptions) Wrapper around superagent which validates and calls requests. Parameters: Name Type Description methodName String e.g GET, POST path String e.g /v1.1/instances/ requestOptions Object All options required to build request Properties Name Type Argument Default Description type String &lt;optional&gt; 'json' request type e.g form, json, png accept String &lt;optional&gt; 'json' request accept e.g form, json, png timeout Number &lt;optional&gt; 15000 request timeout headers Object &lt;optional&gt; {} request headers query Object &lt;optional&gt; {} request query payload Object &lt;optional&gt; {} request payload Source: request.js, line 104 Returns: Type Promise setRequestHandler(handler) Sets request handler, used for mocking. Parameters: Name Type Description handler function Source: request.js, line 47 Returns: Type Request × Search results Close "},"ResultSet.html":{"id":"ResultSet.html","title":"Class: ResultSet","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: ResultSet ResultSet new ResultSet(querySet, response, objects) Wrapper around plain JavaScript Array which provides two additional methods for pagination. Parameters: Name Type Description querySet QuerySet response String objects Array Properties: Name Type Description next function prev function Source: querySet.js, line 30 Returns: Type ResultSet Example Instance.please().list() // get next page .then((instances) =&gt; instances.next()) // get prev page .then((instances) =&gt; instances.prev()) .then((instances) =&gt; console.log('instances', instances)); × Search results Close "},"Schedule.html":{"id":"Schedule.html","title":"Class: Schedule","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: Schedule Schedule new Schedule() OO wrapper around instance groups endpoint. Properties: Name Type Argument Default Description id Number instanceName String label String interval_sec Number crontab String payload Object scheduled_next String links String &lt;optional&gt; {} created_at Date &lt;optional&gt; null updated_at Date &lt;optional&gt; null Source: models/schedule.js, line 72 × Search results Close "},"ScheduleTrace.html":{"id":"ScheduleTrace.html","title":"Class: ScheduleTrace","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: ScheduleTrace ScheduleTrace new ScheduleTrace() OO wrapper around shedule traces endpoint. Properties: Name Type Argument Default Description id Number scheduleId Number instanceName String status String executed_at Date duration Number result Object &lt;optional&gt; {} Properties Name Type Description stderr String stdout String links String &lt;optional&gt; {} Source: models/scheduletrace.js, line 57 × Search results Close "},"Script.html":{"id":"Script.html","title":"Class: Script","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: Script Script new Script() OO wrapper around scripts endpoint.Script has special method called run which will execute attached source code. Properties: Name Type Argument Default Description id Number instanceName String label String source String runtime_name String description String &lt;optional&gt; null links String &lt;optional&gt; {} created_at Date &lt;optional&gt; null updated_at Date &lt;optional&gt; null Source: models/script.js, line 124 Methods getRuntimes() Gets allowed runtimes. Source: models/script.js, line 163 Returns: Type Promise Example Script.please().runtimes({instanceName: 'test-one', id: 1}).then(function(script) { script.runtimes().then(function(runtimes) {}); }); run(payload) Runs current Script. Parameters: Name Type Argument Default Description payload Object &lt;optional&gt; {} Source: models/script.js, line 144 Returns: Type Promise Example Script.please().get({instanceName: 'test-one', id: 1}).then(function(script) { script.run({some: 'variable'}).then(function(trace) {}); }); × Search results Close "},"ScriptEndpoint.html":{"id":"ScriptEndpoint.html","title":"Class: ScriptEndpoint","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: ScriptEndpoint ScriptEndpoint new ScriptEndpoint() OO wrapper around instance webhooks endpoint. Properties: Name Type Argument Default Description name String instanceName String public_link String public Boolean codebox Number description String &lt;optional&gt; null links String &lt;optional&gt; {} Source: models/scriptendpoint.js, line 159 Methods reset() Resets current ScriptEndpoint. Source: models/scriptendpoint.js, line 231 Returns: Type Promise Example ScriptEndpoint.please().get({instanceName: 'test-one', name: 'test'}).then(function(webhook) { webhook.reset().then(function() {}); }); run(payload) Runs current ScriptEndpoint. Parameters: Name Type Argument Default Description payload Object &lt;optional&gt; {} Source: models/scriptendpoint.js, line 179 Returns: Type Promise Example ScriptEndpoint.please().get({instanceName: 'test-one', id: 1}).then(function(codebox) { codebox.run({some: 'variable'}).then(function(trace) {}); }); runPublic(payload) Runs current public ScriptEndpoint. Parameters: Name Type Argument Default Description payload Object &lt;optional&gt; {} Source: models/scriptendpoint.js, line 206 Returns: Type Promise Example ScriptEndpoint.please().get({instanceName: 'test-one', id: 1}).then(function(codebox) { codebox.runPublic({some: 'variable'}).then(function(trace) {}); }); × Search results Close "},"ScriptEndpointTrace.html":{"id":"ScriptEndpointTrace.html","title":"Class: ScriptEndpointTrace","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: ScriptEndpointTrace ScriptEndpointTrace new ScriptEndpointTrace() OO wrapper around webhook traces endpoint.This model is read only. Properties: Name Type Argument Default Description id Number instanceName String scriptEndpointName String status String executed_at Date duration Number result Object &lt;optional&gt; {} Properties Name Type Description stderr String stdout String links String &lt;optional&gt; {} Source: models/scriptendpointtrace.js, line 56 × Search results Close "},"ScriptTrace.html":{"id":"ScriptTrace.html","title":"Class: ScriptTrace","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: ScriptTrace ScriptTrace new ScriptTrace() OO wrapper around script trace endpoint.This model is read only. Properties: Name Type Argument Default Description id Number instanceName String scriptId Number status String executed_at Date duration Number result Object &lt;optional&gt; {} Properties Name Type Description stderr String stdout String links String &lt;optional&gt; {} Source: models/scripttrace.js, line 55 × Search results Close "},"Syncano.html":{"id":"Syncano.html","title":"Class: Syncano","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: Syncano Syncano new Syncano(options) Main Syncano object. Parameters: Name Type Description options Object All configuration options Properties Name Type Argument Default Description baseUrl Object &lt;optional&gt; 'https://api.syncano.io' Base URL for all api calls. accountKey Object &lt;optional&gt; null Your Syncano account key. userKey Object &lt;optional&gt; null Instance user api key. socialToken Object &lt;optional&gt; null Instance social authentication token. defaults Object &lt;optional&gt; {} Object with default properties for api calls. Source: syncano.js, line 27 Returns: Type Syncano Example var connection = Syncano({accountKey: '123'}); var connection = Syncano({userKey: '123'}); var connection = Syncano({socialToken: '123'}); var connection = Syncano({ defaults: { instanceName: 'my-instance' }}); Methods getAccountKey() Gets accountKey. Source: syncano.js, line 153 Returns: Type String Example var connection = Syncano({accountKey: '123'}); var accountKey = connection.getAccountKey(); getApiKey() Gets apiKey. Source: syncano.js, line 223 Returns: Type String Example var connection = Syncano({apiKey: '123'}); var apiKey = connection.getApiKey(); getBaseUrl() Gets baseUrl. Source: syncano.js, line 118 Returns: Type String Example var connection = Syncano({accountKey: '123'}); var baseUrl = connection.getBaseUrl(); getInstanceName() Gets instanceName. Source: syncano.js, line 81 Returns: Type String Example var connection = Syncano({accountKey: '123'}); var baseUrl = connection.getInstanceName(); getSocialToken() Gets socialToken. Source: syncano.js, line 258 Returns: Type String Example var connection = Syncano({socialToken: '123'}); var socialToken = connection.getSocialToken(); getUserKey() Gets userKey. Source: syncano.js, line 188 Returns: Type String Example var connection = Syncano({userKey: '123'}); var userKey = connection.getUserKey(); setAccountKey(accountKey) Sets accountKey. Parameters: Name Type Description accountKey String Your Syncano account key Source: syncano.js, line 136 Returns: Type Syncano Example var connection = Syncano({accountKey: '123'}); connection.setAccountKey('abcd'); setApiKey(apiKey) Sets apiKey. Parameters: Name Type Description apiKey String Instance user api key Source: syncano.js, line 206 Returns: Type Syncano Example var connection = Syncano({apiKey: '123'}); connection.setApiKey('abcd'); setBaseUrl(baseUrl) Sets baseUrl. Parameters: Name Type Description baseUrl String Base URL for all api calls Source: syncano.js, line 100 Throws: Base URL is required. Type Error Returns: Type Syncano Example var connection = Syncano({accountKey: '123'}); connection.setBaseUrl('https://dummy.com/'); setInstanceName(instanceName) Sets instanceName. Parameters: Name Type Description instanceName String Instance name for all api calls Source: syncano.js, line 61 Throws: Instance name must be a string. Type Error Returns: Type Syncano Example var connection = Syncano({accountKey: '123'}); connection.setInstanceName('my-instance'); setSocialToken(socialToken) Sets socialToken. Parameters: Name Type Description socialToken String Instance social authentication token Source: syncano.js, line 241 Returns: Type Syncano Example var connection = Syncano({socialToken: '123'}); connection.setSocialToken('abcd'); setUserKey(userKey) Sets userKey. Parameters: Name Type Description userKey String Instance user api key Source: syncano.js, line 171 Returns: Type Syncano Example var connection = Syncano({userKey: '123'}); connection.setUserKey('abcd'); × Search results Close "},"Template.html":{"id":"Template.html","title":"Class: Template","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: Template Template new Template() OO wrapper around templates endpoint. Properties: Name Type Argument Default Description name String instanceName String content String content_type String context Object links String &lt;optional&gt; {} Source: models/template.js, line 104 × Search results Close "},"Trigger.html":{"id":"Trigger.html","title":"Class: Trigger","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: Trigger Trigger new Trigger() OO wrapper around instance triggers endpoint. Properties: Name Type Argument Default Description id Number instanceName String label String signal String codebox Number class String description String &lt;optional&gt; null links String &lt;optional&gt; {} created_at Date &lt;optional&gt; null updated_at Date &lt;optional&gt; null Source: models/trigger.js, line 68 × Search results Close "},"TriggerTrace.html":{"id":"TriggerTrace.html","title":"Class: TriggerTrace","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: TriggerTrace TriggerTrace new TriggerTrace() OO wrapper around trigger trace endpoint.This model is read only. Properties: Name Type Argument Default Description id Number instanceName String triggerId Number status String executed_at Date duration Number result Object &lt;optional&gt; {} Properties Name Type Description stderr String stdout String links String &lt;optional&gt; {} Source: models/triggertrace.js, line 59 × Search results Close "},"User.html":{"id":"User.html","title":"Class: User","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring Class: User User new User() OO wrapper around instance users endpoint. Properties: Name Type Argument Default Description id Number instanceName String username String password String user_key String links String &lt;optional&gt; {} created_at Date &lt;optional&gt; null updated_at Date &lt;optional&gt; null Source: models/user.js, line 314 Methods addGroup(group) Adds a group to user. Parameters: Name Type Description group Object object with id of group to be added Source: models/user.js, line 364 Returns: Type Promise Example User.please().get({instanceName: 'test-one', id: 1}).then(function(user) { user.addGroup({ group: 1}).then(function(group) {}); }); deleteGroup(group) Removes a user's group. Parameters: Name Type Description group Object object with id of group to be added Source: models/user.js, line 382 Returns: Type Promise Example User.please().get({instanceName: 'test-one', id: 1}).then(function(user) { user.deleteGroup({ group: 1}).then(function(group) {}); }); getGroup() Gets a user's group. Source: models/user.js, line 346 Returns: Type Promise Example User.please().get({instanceName: 'test-one', id: 1}).then(function(user) { user.getGroup({ group: 1 }).then(function(group) {}); }); getGroups() Gets a user's groups. Source: models/user.js, line 331 Returns: Type Promise Example User.please().get({instanceName: 'test-one', id: 1}).then(function(user) { user.getGroups().then(function(groups) {}); }); resetKey() Restes user key. Source: models/user.js, line 397 Returns: Type Promise Example User.please().get({instanceName: 'test-one', id: 1}).then(function(user) { user.resetKey().then(function(user) {}); }); × Search results Close "},"tutorial-01. Quick start.html":{"id":"tutorial-01. Quick start.html","title":"Tutorial: 01. Quick start","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring 01. Quick start This quickstart guide will walk you through the installation steps of the Syncano javascript library. If you don't have a Syncano account yet, you can read about how to create one here. InstallationWe offer a few ways of installing the library - npm, bower, a GitHub repository or through our CDN. NPMInstall the npm module using: npm install syncano --save BowerInstall the bower module using: bower install syncano GithubDownload the latest release here or browse the library. CDNThe library is available on our official CDN: http://cdn.syncano.com/syncano.js Including the library in your projectScript tagTo use the library on the client side, include it via a script tag in your HTML document: &lt;script src=&quot;path/to/bower_components/syncano/dist/syncano.min.js&quot;&gt;&lt;/script&gt; CommonJSThe library can be used as CommonJS module via require: var Syncano = require('syncano'); ES6 modulesYou can also use the library via import: import Syncano from 'syncano'; Making connectionsConnecting to our services is as easy as instantiating the main object. import Syncano from 'syncano'; var connection = Syncano();You can configure your connection by passing a configuration object to the main Syncano object: var connection = Syncano({ accountKey: '123' });The main object also provides setters for the parameters: var connection = Syncano().setAccountKey('123');For a full list of the main object's properties, please refer to it's documentation. Interacting with the APIThe library provides a set of models that reflect the objects available in our API. To see a list of available objects, head on to the FAQ. There are two ways of accessing the models: by instatiating the model or by calling the static please() method that returns a QuerySet. With a model instance, you can save, update and delete objects: connection.Instance({ name: 'myInstance', description: 'This is my instance'}).save();With a QuerySet object returned from the please() method, you can perform additional operations like listing objects: connection.Instance.please().list();Queries and PromisesThe library uses Promises for hadling the results of operations on the API. They help you write more readable and maintainable code while interacting with our services. To get the result of a successful query, use the then() method: connection.Instance.please().get({ name: 'myInstance' }).then(function(result, raw) { // manipulate the result });Please note that the callback function can accept an additional parameter (raw) that contains an array To catch errors returned from the API, use the catch() method: connection.Instance({ name: 'myInstance', description: 'This is my instance'}).save().catch(function(error) { // handle the error })This pattern also provides you with an elegant way of chaining operations: // create an instance connection.Instance({ name: 'myInstance', description: 'This is my instance'}).save().then(function(instance) { // update the instance's description instance.description = 'This is a new description.'; return instance.save(); }) .then(function(instance) { // the instance was updated });For a list of available query methods, check the QuerySet documentation. Nested modelsThe javascript library is designed so that it reflects the platfom's structure, therefore some of the models have child models. For example, an Instance has mutliple Classes. If we would like to list the Classes belonging to an Instance we can do something like this: connection.Instance({name: 'silent-dawn-3609'}).classes().list().then(function(classes) { // classes list });Default properiesYou can specify default properies for all api calls. To do this, just pass an additional defaults object to the main Syncano object: var connection = Syncano({ accountKey: '123', defaults: { instanceName: 'my-instance' });There is also a method for setting just a default instance name: connection.setInstanceName('my-instance');If you want to unset the default instance name, just pass null to the setInstanceName() method. You should aslo note that any new properies passed to model instances and methods like list() will overwrite the default properies. × Search results Close "},"tutorial-02. Interacting.html":{"id":"tutorial-02. Interacting.html","title":"Tutorial: 02. Interacting","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring 02. Interacting This tutorial will walk you through our ORM syntax and how to use it to make proper API calls. Creating a ConnectionIn each example I'll be assuming that you have configured connection to syncano and you are using ES6 syntax: import Syncano from 'syncano'; const connection = Syncano({accountKey: 'YOUR_KEY'}); const {Instance, ApiKey} = connection;Creating objectsA model class represents a single Syncano API endpoint, and an instance of that class represents a particular record in this endpoint. To create an object, instantiate it using object argument and then call Model.save to save it to the Syncano API. Here’s an example: Instance({name: 'test-one', description:''}).save().then((instance) =&gt; { // your new instance });This performs a POST request to Syncano API behind the scenes.Syncano doesn’t hit the API until you explicitly call Model#save. NoteTo create and save an object in a single step, use the QuerySet#create method. Saving changes to objectsTo save changes to an object that’s already in the Syncano API, use Model#save.Regarding our instance from previous example, this example changes its description and updates its record in the Syncano API: instance.description = 'new description' instance.save().then((updatedInstance) =&gt; { console.log(updatedInstance.description); // will produce 'new description' });This performs a PUT request to Syncano API behind the scenes.Syncano doesn’t hit the API until you explicitly call Model#save. NoteTo change and save an object in a single step, use the QuerySet#create method. Retrieving objectsTo retrieve objects from Syncano API, construct a query via a QuerySet on your model class. Each model has only one QuerySet#create, and it’s called please by default.Access it directly via the model class, like so: Instance.please()NoteQuerySet is accessible only via model classes, rather than from model instances,to enforce a separation between “table-level” operations and “record-level” operations. Retrieving all objectsThe simplest way to retrieve objects from a Syncano API is to get all of them.To do this, use the QuerySet#list method on a QuerySet: Instance.please().list().then((instances) =&gt; { console.log('instances', instances); });NoteThis performs a GET request to Syncano API list endpoint behind the scenes. QuerySet is lazyQuerySet is lazy – the act of creating a QuerySet doesn’t involve any API activity.You can stack QuerySet methods all day long, and Syncano won’t actually run the API call until the QuerySet is evaluated.Take a look at this example:: Instance.please().pageSize(1).ordering('desc').then(() =&gt; { });Though this looks like two API calls, in fact it hits API only once, at the last chain (then).In general, the results of a QuerySet aren’t fetched from API until you “ask” for them. Retrieving a single objectIf you know there is only one object that matches your API call, you can use the QuerySet#get method on a QuerySet which returns the object directly: Instance.please().get({name: 'test'}).then((instance) =&gt; { });This performs a GET request to Syncano API details endpoint behind the scenes. If there are no results that match the API call, QuerySet#get will raise a RequestError exception. Removing a single objectThe delete method, conveniently, is named QuerySet#delete. This method immediately deletes the object and has no return value. Instance.please().delete({name: 'test'}).then(() =&gt; { });This performs a DELETE request to Syncano API details endpoint behind the scenes. Lookups that span relationshipsSyncano API has nested architecture so in some cases there will be a need to provide a few additional arguments to resolve endpoint URL.For example ApiKey model is related to Instance and its URL patter looks like this: /v1.1/instances/{instance_name}/api_keys/{id} This example will not work: ApiKey.please().list().then(() =&gt; {}).catch((error) =&gt; { console.log('error', error); });So how to fix that? We need to provide instanceName as an argument to QuerySet#list method: ApiKey.please().list({instanceName: 'test'}).then((apiKeys) =&gt; { console.log('apiKeys', apiKeys); });This performs a GET request to /v1.1/instances/test/api_keys/. Backward relationsFor example Instance has related ApiKey model so all Instance objects will have backward relation to list of ApiKey's: Instance.please().get({name: 'test'}).then((instance) =&gt; { return instance.apiKeys().list(); }).then((apiKeys) =&gt; { console.log('apiKeys', apiKeys); });NoteRelated objects do not require additional request properties passed to QuerySet#link method. Falling back to raw JSONIf you find yourself needing to work on raw JSON data instead of models just use QuerySet#raw method: Instance.please().list().raw().then((response) =&gt; { console.log('raw response', response); });PaginationIf you find yourself needing to fetch next or previous page of objects just use next or prev method: Instance.please().list().then((instances) =&gt; { console.log('first page', instances); return instances.next(); }).then((instances) =&gt; { console.log('second page', instances); return instances.prev(); }).then((instances) =&gt; { console.log('previous / first page', instances); }); × Search results Close "},"tutorial-03. Models.html":{"id":"tutorial-03. Models.html","title":"Tutorial: 03. Models","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring 03. Models The library provides a set of models that reflect the objects available in our API. To see a list of available objects, head on to the FAQ. Available models Instance Admin ApiKey APNSConfig APNSDevice APNSMessage Channel Class DataObject CodeBox CodeBoxTrace DataView GCMConfig GCMDevice GCMMessage Group InstanceInvitation Schedule ScheduleTrace Template Trigger TriggerTrace User Webhook WebhookTrace × Search results Close "},"tutorial-04. Connection monitoring.html":{"id":"tutorial-04. Connection monitoring.html","title":"Tutorial: 04. Connection monitoring","body":" Syncano Classes AccountAdminApiKeyAPNSConfigAPNSDeviceAPNSMessageChannelChannelPollClassConfigMixinConstraintsMixinDataEndpointDataObjectEventEmittableGCMConfigGCMDeviceGCMMessageGroupInstanceInstanceInvitationInvitationLoggerMetaMetaMixinModelPingerQuerySetRequestResultSetScheduleScheduleTraceScriptScriptEndpointScriptEndpointTraceScriptTraceSyncanoTemplateTriggerTriggerTraceUser Tutorials 01. Quick start02. Interacting03. Models04. Connection monitoring 04. Connection monitoring This tutorial will show you how to monitor the connection to the platform. Setting up monitoringThe main Syncano object has a Monitor property that exposes methods for monitoring the network connection. To set up the monitor, use the startMonitoring method: let connection = Syncano(); connection.Monitor.startMonitoring();Listening for eventsThe monitor exposes an EventEmitter so you can listen for the connected and disconnected events: connection.Monitor.on('connected', () =&gt; { // connected to the api }); connection.Monitor.on('disconnected', (error) =&gt; { // connection to the api lost });Stopping monitoringTo stop monitoring the connection, use the stopMonitoring method: connection.Monitor.stopMonitoring(); × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
